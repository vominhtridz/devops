{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Fragment}from'react';import{Route,Link}from'react-router-dom';import DefaultAvatar from\"..//default_avatar.jpg\";import{useDispatch,useSelector}from'react-redux';import{useAlert}from'react-alert';import{logout}from'../../actions/userActions';import Search from'./Search';import'../../App.css';var Header=function Header(){var alert=useAlert();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.auth;}),user=_useSelector.user,loading=_useSelector.loading;var _useSelector2=useSelector(function(state){return state.cart;}),cartItems=_useSelector2.cartItems;var logoutHandler=function logoutHandler(){dispatch(logout());alert.success('Đăng xuất thành công');};return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"navbar-brand\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/logo.png\",alt:\"\"})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-6 mt-2 mt-md-0\",children:/*#__PURE__*/_jsx(Route,{render:function render(_ref){var history=_ref.history;return/*#__PURE__*/_jsx(Search,{history:history});}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-md-3 mt-4 mt-md-0 text-center\",children:[user&&user.role==='admin'?/*#__PURE__*/_jsx(\"p\",{}):/*#__PURE__*/_jsxs(Link,{to:\"/cart\",style:{textDecoration:'none'},children:[/*#__PURE__*/_jsx(\"span\",{id:\"cart\",className:\"ml-3\",children:\"Gi\\u1ECF h\\xE0ng\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-1\",id:\"cart_count\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"bi bi-cart4\"}),cartItems.length]})]}),user?/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4 dropdown d-inline\",children:[/*#__PURE__*/_jsxs(Link,{to:\"#!\",className:\"btn dropdown-toggle text-white mr-4\",type:\"button\",id:\"dropDownMenuButton\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\",children:[/*#__PURE__*/_jsx(\"figure\",{className:\"avatar avatar-nav\",children:/*#__PURE__*/_jsx(\"img\",{src:user.avatar||DefaultAvatar,alt:user&&user.name,className:\"rounded-circle\"})}),/*#__PURE__*/_jsx(\"span\",{children:user&&user.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-menu\",\"aria-labelledby\":\"dropDownMenuButton\",children:[user&&user.role==='admin'&&/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/dashboard\",children:\"Trang qu\\u1EA3n tr\\u1ECB\"}),user&&user.role!=='admin'&&/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/orders/me\",children:\"\\u0110\\u01A1n \\u0111\\u1EB7t h\\xE0ng\"}),/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/me\",children:\"Th\\xF4ng tin c\\xE1 nh\\xE2n\"}),/*#__PURE__*/_jsx(Link,{className:\"dropdown-item text-danger\",to:\"/\",onClick:logoutHandler,children:\"\\u0110\\u0103ng xu\\u1EA5t\"})]})]}):!loading&&/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"btn ml-4\",id:\"login_btn\",children:\"\\u0110\\u0103ng nh\\u1EADp\"})]})]})});};export default Header;","map":{"version":3,"sources":["D:/devops/frontend/src/components/layout/Header.js"],"names":["React","Fragment","Route","Link","DefaultAvatar","useDispatch","useSelector","useAlert","logout","Search","Header","alert","dispatch","state","auth","user","loading","cart","cartItems","logoutHandler","success","history","role","textDecoration","length","avatar","name"],"mappings":"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","sourcesContent":["import React, { Fragment } from 'react'\r\nimport { Route, Link } from 'react-router-dom'\r\nimport DefaultAvatar from \"..//default_avatar.jpg\";\r\n\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useAlert } from 'react-alert'\r\nimport { logout } from '../../actions/userActions'\r\n\r\nimport Search from './Search'\r\n\r\nimport '../../App.css'\r\n\r\nconst Header = () => {\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { user, loading } = useSelector(state => state.auth)\r\n    const { cartItems } = useSelector(state => state.cart)\r\n\r\n    const logoutHandler = () => {\r\n        dispatch(logout());\r\n        alert.success('Đăng xuất thành công')\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <nav className=\"navbar row\">\r\n                <div className=\"col-12 col-md-3\">\r\n                    <div className=\"navbar-brand\">\r\n                        <Link to=\"/\">\r\n                            <img src=\"/images/logo.png\" alt='' />\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"col-12 col-md-6 mt-2 mt-md-0\">\r\n                    <Route render={({ history }) => <Search history={history} />} />\r\n                </div>\r\n\r\n                <div className=\"col-12 col-md-3 mt-4 mt-md-0 text-center\">\r\n                    {user && user.role === 'admin' ? (\r\n                        <p></p>\r\n                    ) : (\r\n                        \r\n                        <Link to=\"/cart\" style={{ textDecoration: 'none' }} >\r\n                            <span id=\"cart\" className=\"ml-3\">Giỏ hàng</span>\r\n                            <span className=\"ml-1\" id=\"cart_count\"><i class=\"bi bi-cart4\"></i>{cartItems.length}</span>\r\n                        </Link>\r\n                    )}\r\n\r\n                    {user ? (\r\n                        <div className=\"ml-4 dropdown d-inline\">\r\n                            <Link to=\"#!\" className=\"btn dropdown-toggle text-white mr-4\" type=\"button\" id=\"dropDownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n\r\n                                <figure className=\"avatar avatar-nav\">\r\n                                    <img\r\n                                        src={user.avatar || DefaultAvatar}\r\n                                        alt={user && user.name}\r\n                                        className=\"rounded-circle\"\r\n                                    />\r\n                                </figure>\r\n                                <span>{user && user.name}</span>\r\n                            </Link>\r\n\r\n                            <div className=\"dropdown-menu\" aria-labelledby=\"dropDownMenuButton\">\r\n\r\n                                {user && user.role === 'admin' && (\r\n                                    <Link className=\"dropdown-item\" to=\"/dashboard\">Trang quản trị</Link>\r\n                                )}\r\n                                {user && user.role !== 'admin' && (\r\n                                    <Link className=\"dropdown-item\" to=\"/orders/me\">Đơn đặt hàng</Link>\r\n                                )}\r\n\r\n                                <Link className=\"dropdown-item\" to=\"/me\">Thông tin cá nhân</Link>\r\n                                <Link className=\"dropdown-item text-danger\" to=\"/\" onClick={logoutHandler}>\r\n                                    Đăng xuất\r\n                                </Link>\r\n\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n\r\n                    ) : !loading && <Link to=\"/login\" className=\"btn ml-4\" id=\"login_btn\">Đăng nhập</Link>}\r\n\r\n\r\n                </div>\r\n            </nav>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Header\r\n"]},"metadata":{},"sourceType":"module"}