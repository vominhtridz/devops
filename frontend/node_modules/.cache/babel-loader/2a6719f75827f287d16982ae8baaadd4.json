{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Fragment}from'react';import{Link}from'react-router-dom';import MetaData from'../layout/MetaData';import{useDispatch,useSelector}from'react-redux';import{addItemToCart,removeItemFromCart}from'../../actions/cartActions';var Cart=function Cart(_ref){var history=_ref.history;var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.cart;}),cartItems=_useSelector.cartItems;var removeCartItemHandler=function removeCartItemHandler(id){dispatch(removeItemFromCart(id));};var increaseQty=function increaseQty(id,quantity,stock){var newQty=quantity+1;if(newQty>stock)return;dispatch(addItemToCart(id,newQty));};var decreaseQty=function decreaseQty(id,quantity){var newQty=quantity-1;if(newQty<=0)return;dispatch(addItemToCart(id,newQty));};var checkoutHandler=function checkoutHandler(){history.push('/login?redirect=shipping');};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:'Giỏ hàng của bạn'}),cartItems.length===0?/*#__PURE__*/ // cart is empty\n_jsx(\"div\",{className:\"container-fluid mt-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h5\",{children:\"Gi\\u1ECF h\\xE0ng\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body cart\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-12 empty-cart-cls text-center\",children:[\" \",/*#__PURE__*/_jsx(\"img\",{src:\"https://cdn-icons-png.flaticon.com/512/2037/2037457.png\",width:130,height:130,className:\"img-fluid mb-4 mr-3\",alt:\"\"}),/*#__PURE__*/_jsx(\"h3\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Gi\\u1ECF h\\xE0ng c\\u1EE7a b\\u1EA1n tr\\u1ED1ng\"})}),/*#__PURE__*/_jsx(\"h4\",{children:\"H\\xE3y th\\xEAm m\\u1ED9t c\\xE1i g\\xEC \\u0111\\xF3 \\u0111\\u1EC3 gi\\u1ECF h\\xE0ng \\u0111\\u1EA7y \\u1EAFp t\\xECnh y\\xEAu th\\u01B0\\u01A1ng!\"}),\" \",/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn btn-primary cart-btn-transform m-3\",\"data-abc\":\"true\",children:\"Ti\\u1EBFp t\\u1EE5c mua s\\u1EAFm\"})]})})]})})})}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"mt-5\",children:[\"Gi\\u1ECF h\\xE0ng c\\u1EE7a b\\u1EA1n \\u0111ang c\\xF3: \",/*#__PURE__*/_jsxs(\"b\",{children:[cartItems.length,\" s\\u1EA3n ph\\u1EA9m\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-8\",children:cartItems.map(function(item){return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-item\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-3\",children:/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:\"Laptop\",height:\"90\",width:\"115\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-5 col-lg-3\",children:/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(item.product),children:item.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-2 mt-4 mt-lg-0\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-primary\",children:[item.price.toLocaleString(),\"\\u0111\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-3 mt-4 mt-lg-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"stockCounter d-inline\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"btn btn-danger minus\",onClick:function onClick(){return decreaseQty(item.product,item.quantity);},children:\"-\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control count d-inline\",value:item.quantity,readOnly:true}),/*#__PURE__*/_jsx(\"span\",{className:\"btn btn-primary plus\",onClick:function onClick(){return increaseQty(item.product,item.quantity,item.stock);},children:\"+\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-1 mt-4 mt-lg-0\",children:/*#__PURE__*/_jsx(\"i\",{id:\"delete_cart_item\",className:\"fa fa-trash btn btn-danger\",onClick:function onClick(){return removeCartItemHandler(item.product);}})})]})},item.product),/*#__PURE__*/_jsx(\"hr\",{})]});})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-4 my-4\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"order_summary\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-center\",children:\"T\\u1ED5ng gi\\xE1 tr\\u1ECB \\u0111\\u01A1n h\\xE0ng\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[\"S\\u1ED1 l\\u01B0\\u1EE3ng:  \",/*#__PURE__*/_jsxs(\"span\",{className:\"order-summary-values\",children:[cartItems.reduce(function(acc,item){return acc+Number(item.quantity);},0),\" (S\\u1EA3n ph\\u1EA9m)\"]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"T\\u1ED5ng ti\\u1EC1n: \",/*#__PURE__*/_jsxs(\"span\",{className:\"order-summary-values\",children:[cartItems.reduce(function(acc,item){return acc+item.quantity*item.price;},0).toLocaleString(),\"\\u0111\"]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"button\",{id:\"checkout_btn\",className:\"btn btn-primary btn-block\",onClick:checkoutHandler,children:\"\\u0110\\u1EB7t h\\xE0ng\"}),\" \"]})})]})]})]});};export default Cart;","map":{"version":3,"sources":["D:/devops/frontend/src/components/cart/Cart.js"],"names":["React","Fragment","Link","MetaData","useDispatch","useSelector","addItemToCart","removeItemFromCart","Cart","history","dispatch","state","cart","cartItems","removeCartItemHandler","id","increaseQty","quantity","stock","newQty","decreaseQty","checkoutHandler","push","length","map","item","image","product","name","price","toLocaleString","reduce","acc","Number"],"mappings":"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","sourcesContent":["import React, { Fragment } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport MetaData from '../layout/MetaData'\r\n\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { addItemToCart, removeItemFromCart } from '../../actions/cartActions'\r\n\r\nconst Cart = ({ history }) => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const { cartItems } = useSelector(state => state.cart)\r\n\r\n    const removeCartItemHandler = (id) => {\r\n        dispatch(removeItemFromCart(id))\r\n    }\r\n\r\n    const increaseQty = (id, quantity, stock) => {\r\n        const newQty = quantity + 1;\r\n\r\n        if (newQty > stock) return;\r\n\r\n        dispatch(addItemToCart(id, newQty))\r\n    }\r\n\r\n    const decreaseQty = (id, quantity) => {\r\n\r\n        const newQty = quantity - 1;\r\n\r\n        if (newQty <= 0) return;\r\n\r\n        dispatch(addItemToCart(id, newQty))\r\n\r\n    }\r\n\r\n    const checkoutHandler = () => {\r\n        history.push('/login?redirect=shipping')\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <MetaData title={'Giỏ hàng của bạn'} />\r\n            {cartItems.length === 0 ?\r\n            // cart is empty\r\n                <div className=\"container-fluid mt-100\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-12\">\r\n                            <div className=\"card\">\r\n                                <div className=\"card-header\">\r\n                                    <h5>Giỏ hàng</h5>\r\n                                </div>\r\n                                <div className=\"card-body cart\">\r\n                                    <div className=\"col-sm-12 empty-cart-cls text-center\"> <img src=\"https://cdn-icons-png.flaticon.com/512/2037/2037457.png\" width={130} height={130} className=\"img-fluid mb-4 mr-3\" alt='' />\r\n                                        <h3><strong>Giỏ hàng của bạn trống</strong></h3>\r\n                                        <h4>Hãy thêm một cái gì đó để giỏ hàng đầy ắp tình yêu thương!</h4> <Link to=\"/\" className=\"btn btn-primary cart-btn-transform m-3\" data-abc=\"true\">Tiếp tục mua sắm</Link>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                : (\r\n                    <Fragment>\r\n                        <h3 className=\"mt-5\">Giỏ hàng của bạn đang có: <b>{cartItems.length} sản phẩm</b></h3>\r\n\r\n                        <div className=\"row d-flex justify-content-between\">\r\n                            <div className=\"col-12 col-lg-8\">\r\n\r\n                                {cartItems.map(item => (\r\n                                    <Fragment>\r\n                                        <hr />\r\n\r\n                                        <div className=\"cart-item\" key={item.product}>\r\n                                            <div className=\"row\">\r\n                                                <div className=\"col-4 col-lg-3\">\r\n                                                    <img src={item.image} alt=\"Laptop\" height=\"90\" width=\"115\" />\r\n                                                </div>\r\n\r\n                                                <div className=\"col-5 col-lg-3\">\r\n                                                    <Link to={`/product/${item.product}`}>{item.name}</Link>\r\n                                                </div>\r\n\r\n\r\n                                                <div className=\"col-4 col-lg-2 mt-4 mt-lg-0\">\r\n                                                    <p className='text-primary'>{(item.price).toLocaleString()}đ</p>\r\n                                                </div>\r\n\r\n                                                <div className=\"col-4 col-lg-3 mt-4 mt-lg-0\">\r\n                                                    <div className=\"stockCounter d-inline\">\r\n                                                        <span className=\"btn btn-danger minus\" onClick={() => decreaseQty(item.product, item.quantity)}>-</span>\r\n\r\n                                                        <input type=\"number\" className=\"form-control count d-inline\" value={item.quantity} readOnly />\r\n\r\n                                                        <span className=\"btn btn-primary plus\" onClick={() => increaseQty(item.product, item.quantity, item.stock)}>+</span>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div className=\"col-4 col-lg-1 mt-4 mt-lg-0\">\r\n                                                    <i id=\"delete_cart_item\" className=\"fa fa-trash btn btn-danger\" onClick={() => removeCartItemHandler(item.product)} ></i>\r\n                                                </div>\r\n\r\n                                            </div>\r\n                                        </div>\r\n                                        <hr />\r\n                                    </Fragment>\r\n                                ))}\r\n\r\n                            </div>\r\n\r\n                            <div className=\"col-12 col-lg-4 my-4\">\r\n                                <div id=\"order_summary\">\r\n                                    <h4 className='text-center'>Tổng giá trị đơn hàng</h4>\r\n                                    <hr />\r\n                                    <p>Số lượng:  <span className=\"order-summary-values\">{cartItems.reduce((acc, item) => (acc + Number(item.quantity)), 0)} (Sản phẩm)</span></p>\r\n                                    <p>Tổng tiền: <span className=\"order-summary-values\">{(cartItems.reduce((acc, item) => acc + item.quantity * item.price, 0)).toLocaleString()}đ</span></p>\r\n\r\n                                    <hr />\r\n                                    <button id=\"checkout_btn\" className=\"btn btn-primary btn-block\" onClick={checkoutHandler}>Đặt hàng</button> {/* onClick={checkoutHandler} */}\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Fragment>\r\n                )}\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Cart\r\n"]},"metadata":{},"sourceType":"module"}