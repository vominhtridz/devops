{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Fragment,useEffect}from'react';import{Link}from'react-router-dom';import MetaData from'../layout/MetaData';import Loader from'../layout/Loader';import{useAlert}from'react-alert';import{useDispatch,useSelector}from'react-redux';import{getOrderDetails,clearErrors}from'../../actions/orderActions';var OrderDetails=function OrderDetails(_ref){var match=_ref.match;var alert=useAlert();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.orderDetails;}),loading=_useSelector.loading,error=_useSelector.error,_useSelector$order=_useSelector.order,order=_useSelector$order===void 0?{}:_useSelector$order;var shippingInfo=order.shippingInfo,orderItems=order.orderItems,paymentInfo=order.paymentInfo,user=order.user,totalPrice=order.totalPrice,orderStatus=order.orderStatus;useEffect(function(){dispatch(getOrderDetails(match.params.id));if(error){alert.error(error);dispatch(clearErrors());}},[dispatch,alert,error,match.params.id]);var shippingDetails=shippingInfo&&\"\".concat(shippingInfo.address,\", \").concat(shippingInfo.city,\", \").concat(shippingInfo.postalCode,\", \").concat(shippingInfo.country);var isPaid=paymentInfo&&paymentInfo.status==='succeeded'?true:false;return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:'Danh sách đơn hàng'}),loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"row d-flex justify-content-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-lg-8 mt-5 order-details\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"my-5\",children:[\"M\\xE3 \\u0111\\u01A1n: \",order._id]}),/*#__PURE__*/_jsx(\"h4\",{className:\"mb-4\",children:\"Th\\xF4ng tin \\u0111\\u1EB7t h\\xE0ng\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"T\\xEAn ng\\u01B0\\u1EDDi nh\\u1EADn:\"}),\" \",user&&user.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i:\"}),\" \",shippingInfo&&shippingInfo.phoneNo]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"\\u0110\\u1ECBa ch\\u1EC9 giao:\"}),shippingDetails]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"T\\u1ED5ng ti\\u1EC1n:\"}),\" \",totalPrice,\"\\u0111\"]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h4\",{className:\"my-4\",children:\"Thanh to\\xE1n\"}),/*#__PURE__*/_jsx(\"p\",{className:isPaid?\"greenColor\":\"redColor\",children:/*#__PURE__*/_jsx(\"b\",{children:isPaid?\"Đã thanh toán\":\"Chưa thanh toán\"})}),/*#__PURE__*/_jsx(\"h4\",{className:\"my-4\",children:\"T\\xECnh tr\\u1EA1ng \\u0111\\u1EB7t h\\xE0ng:\"}),/*#__PURE__*/_jsx(\"p\",{className:order.orderStatus&&String(order.orderStatus).includes('Đã giao hàng')?\"greenColor\":\"redColor\",children:/*#__PURE__*/_jsx(\"b\",{children:orderStatus})}),/*#__PURE__*/_jsx(\"h4\",{className:\"my-4\",children:\"S\\u1EA3n ph\\u1EA9m:\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-item my-1\",children:orderItems&&orderItems.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"row my-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-2\",children:/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:item.name,height:\"45\",width:\"65\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-5 col-lg-5\",children:/*#__PURE__*/_jsx(Link,{to:\"/products/\".concat(item.product),children:item.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-2 mt-4 mt-lg-0\",children:/*#__PURE__*/_jsxs(\"p\",{children:[item.price.toLocaleString(),\"\\u0111\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-3 mt-4 mt-lg-0\",children:/*#__PURE__*/_jsxs(\"p\",{children:[item.quantity,\" S\\u1EA3n ph\\u1EA9m\"]})})]},item.product);})}),/*#__PURE__*/_jsx(\"hr\",{})]})})})]});};export default OrderDetails;","map":{"version":3,"sources":["D:/devops/frontend/src/components/order/OrderDetails.js"],"names":["React","Fragment","useEffect","Link","MetaData","Loader","useAlert","useDispatch","useSelector","getOrderDetails","clearErrors","OrderDetails","match","alert","dispatch","state","orderDetails","loading","error","order","shippingInfo","orderItems","paymentInfo","user","totalPrice","orderStatus","params","id","shippingDetails","address","city","postalCode","country","isPaid","status","_id","name","phoneNo","String","includes","map","item","image","product","price","toLocaleString","quantity"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport MetaData from '../layout/MetaData'\r\nimport Loader from '../layout/Loader'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getOrderDetails, clearErrors } from '../../actions/orderActions'\r\n\r\nconst OrderDetails = ({ match }) => {\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { loading, error, order = {} } = useSelector(state => state.orderDetails)\r\n    const { shippingInfo, orderItems, paymentInfo, user, totalPrice, orderStatus } = order\r\n\r\n    useEffect(() => {\r\n        dispatch(getOrderDetails(match.params.id));\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors())\r\n        }\r\n    }, [dispatch, alert, error, match.params.id])\r\n\r\n    const shippingDetails = shippingInfo && `${shippingInfo.address}, ${shippingInfo.city}, ${shippingInfo.postalCode}, ${shippingInfo.country}`\r\n\r\n    const isPaid = paymentInfo && paymentInfo.status === 'succeeded' ? true : false\r\n\r\n    return (\r\n        <Fragment>\r\n            <MetaData title={'Danh sách đơn hàng'} />\r\n\r\n            {loading ? <Loader /> : (\r\n                <Fragment>\r\n                    <div className=\"row d-flex justify-content-between\">\r\n                        <div className=\"col-12 col-lg-8 mt-5 order-details\">\r\n\r\n                            <h1 className=\"my-5\">Mã đơn: {order._id}</h1>\r\n\r\n                            <h4 className=\"mb-4\">Thông tin đặt hàng</h4>\r\n                            <p><b>Tên người nhận:</b> {user && user.name}</p>\r\n                            <p><b>Số điện thoại:</b> {shippingInfo && shippingInfo.phoneNo}</p>\r\n                            <p className=\"mb-4\"><b>Địa chỉ giao:</b>{shippingDetails}</p>\r\n                            <p><b>Tổng tiền:</b> {totalPrice}đ</p>\r\n\r\n                            <hr />\r\n\r\n                            <h4 className=\"my-4\">Thanh toán</h4>\r\n                            <p className={isPaid ? \"greenColor\" : \"redColor\"}><b>{isPaid ? \"Đã thanh toán\" : \"Chưa thanh toán\"}</b></p>\r\n\r\n\r\n                            <h4 className=\"my-4\">Tình trạng đặt hàng:</h4>\r\n                            <p className={order.orderStatus && String(order.orderStatus).includes('Đã giao hàng') ? \"greenColor\" : \"redColor\"} ><b>{orderStatus}</b></p>\r\n\r\n\r\n                            <h4 className=\"my-4\">Sản phẩm:</h4>\r\n\r\n                            <hr />\r\n                            <div className=\"cart-item my-1\">\r\n                                {orderItems && orderItems.map(item => (\r\n                                    <div key={item.product} className=\"row my-5\">\r\n                                        <div className=\"col-4 col-lg-2\">\r\n                                            <img src={item.image} alt={item.name} height=\"45\" width=\"65\" />\r\n                                        </div>\r\n\r\n                                        <div className=\"col-5 col-lg-5\">\r\n                                            <Link to={`/products/${item.product}`}>{item.name}</Link>\r\n                                        </div>\r\n\r\n\r\n                                        <div className=\"col-4 col-lg-2 mt-4 mt-lg-0\">\r\n                                            <p>{(item.price).toLocaleString()}đ</p>\r\n                                        </div>\r\n\r\n                                        <div className=\"col-4 col-lg-3 mt-4 mt-lg-0\">\r\n                                            <p>{item.quantity} Sản phẩm</p>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                            <hr />\r\n                        </div>\r\n                    </div>\r\n                </Fragment>\r\n            )}\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default OrderDetails\r\n"]},"metadata":{},"sourceType":"module"}