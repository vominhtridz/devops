{"version":3,"sources":["components/default_avatar.jpg","constants/userConstants.js","actions/userActions.js","components/layout/Search.js","components/layout/Header.js","components/layout/Footer.js","components/layout/MetaData.js","components/product/Product.js","components/layout/Loader.js","constants/productConstants.js","actions/productActions.js","components/layout/Slider.js","components/Home.js","components/review/ListReviews.js","constants/cartConstants.js","actions/cartActions.js","components/product/ProductDetails.js","components/cart/Cart.js","components/cart/CheckoutSteps.js","components/cart/Shipping.js","components/cart/ConfirmOrder.js","constants/orderConstants.js","actions/orderActions.js","components/cart/Payment.js","components/cart/OrderSuccess.js","components/order/ListOrders.js","components/order/OrderDetails.js","components/user/Login.js","components/user/Register.js","components/user/Profile.js","components/user/UpdateProfile.js","components/user/UpdatePassword.js","components/admin/Sidebar.js","components/admin/LookAccount.js","components/admin/Chart.js","components/admin/ChartIncome.js","components/admin/Dashboard.js","components/admin/ProductsList.js","components/admin/NewProduct.js","components/admin/UpdateProduct.js","components/admin/OrdersList.js","components/admin/ProcessOrder.js","components/admin/UsersList.js","components/admin/UpdateUser.js","components/admin/ProductReviews.js","components/route/ProtectedRoute.js","store.js","reducers/productReducers.js","reducers/userReducers.js","reducers/cartReducers.js","reducers/orderReducers.js","App.js","index.js"],"names":["LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAIL","REGISTER_USER_REQUEST","REGISTER_USER_SUCCESS","REGISTER_USER_FAIL","LOAD_USER_REQUEST","LOAD_USER_SUCCESS","LOAD_USER_FAIL","UPDATE_PROFILE_REQUEST","UPDATE_PROFILE_SUCCESS","UPDATE_PROFILE_RESET","UPDATE_PROFILE_FAIL","UPDATE_PASSWORD_REQUEST","UPDATE_PASSWORD_SUCCESS","UPDATE_PASSWORD_RESET","UPDATE_PASSWORD_FAIL","FORGOT_PASSWORD_REQUEST","FORGOT_PASSWORD_SUCCESS","FORGOT_PASSWORD_FAIL","NEW_PASSWORD_REQUEST","NEW_PASSWORD_SUCCESS","NEW_PASSWORD_FAIL","ALL_USERS_REQUEST","ALL_USERS_SUCCESS","ALL_USERS_FAIL","USER_DETAILS_REQUEST","USER_DETAILS_SUCCESS","USER_DETAILS_FAIL","UPDATE_USER_REQUEST","UPDATE_USER_SUCCESS","UPDATE_USER_RESET","UPDATE_USER_FAIL","LOGOUT_SUCCESS","LOGOUT_FAIL","CLEAR_ERRORS","loadUser","dispatch","a","type","axios","get","data","payload","user","errorMessage","response","message","allUsers","users","updateUser","id","userData","config","headers","put","success","getUserDetails","clearErrors","Search","history","useState","keyword","setKeyword","onSubmit","e","preventDefault","trim","push","className","placeholder","onChange","target","value","aria-hidden","Header","alert","useAlert","useDispatch","useSelector","state","auth","loading","cartItems","cart","to","src","alt","render","role","style","textDecoration","class","length","data-toggle","aria-haspopup","aria-expanded","avatar","DefaultAvatar","name","aria-labelledby","onClick","Footer","href","MetaData","title","Helmet","Product","product","col","_id","images","url","width","ratings","numOfReviews","price","toLocaleString","Loader","ADMIN_PRODUCTS_REQUEST","ADMIN_PRODUCTS_SUCCESS","ADMIN_PRODUCTS_FAIL","ALL_PRODUCTS_REQUEST","ALL_PRODUCTS_SUCCESS","ALL_PRODUCTS_FAIL","NEW_PRODUCT_REQUEST","NEW_PRODUCT_SUCCESS","NEW_PRODUCT_RESET","NEW_PRODUCT_FAIL","DELETE_PRODUCT_REQUEST","DELETE_PRODUCT_SUCCESS","DELETE_PRODUCT_RESET","DELETE_PRODUCT_FAIL","UPDATE_PRODUCT_REQUEST","UPDATE_PRODUCT_SUCCESS","UPDATE_PRODUCT_RESET","UPDATE_PRODUCT_FAIL","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAIL","NEW_REVIEW_REQUEST","NEW_REVIEW_SUCCESS","NEW_REVIEW_RESET","NEW_REVIEW_FAIL","GET_REVIEWS_REQUEST","GET_REVIEWS_SUCCESS","GET_REVIEWS_FAIL","DELETE_REVIEW_REQUEST","DELETE_REVIEW_SUCCESS","DELETE_REVIEW_RESET","DELETE_REVIEW_FAIL","getProductDetails","getAdminProducts","products","getProductReviews","reviews","Sliderr","data-ride","height","data-slide","Component","Range","createSliderWithTooltip","Slider","Home","match","currentPage","setCurrentPage","setPrice","category","setCategory","rating","setRating","error","productsCount","resPerPage","filteredProductsCount","params","useEffect","link","getProducts","count","map","cursor","listStyleType","marks","10000","1000000","min","max","defaultValue","tipFormatter","tipProps","placement","visible","star","activePage","itemsCountPerPage","totalItemsCount","pageNumber","nextPageText","prevPageText","firstPageText","lastPageText","itemClass","linkClass","ListReviews","review","comment","ADD_TO_CART","REMOVE_ITEM_CART","SAVE_SHIPPING_INFO","addItemToCart","quantity","getState","image","stock","localStorage","setItem","JSON","stringify","ProductDetails","setQuantity","setComment","productDetails","newReview","reviewError","Carousel","pause","Item","public_id","document","querySelector","valueAsNumber","qty","readOnly","disabled","description","seller","data-target","stars","querySelectorAll","showRatings","forEach","index","starValue","classList","add","remove","addEventListener","tabIndex","data-dismiss","aria-label","reviewData","formData","FormData","set","Cart","removeCartItemHandler","removeItemFromCart","data-abc","item","newQty","decreaseQty","increaseQty","reduce","acc","Number","CheckoutSteps","shipping","confirmOrder","payment","Shipping","shippingInfo","address","setAddress","city","setCity","postalCode","setPostalCode","phoneNo","setPhoneNo","country","setCountry","htmlFor","required","ConfirmOrder","itemsPrice","shippingPrice","taxPrice","totalPrice","sessionStorage","CREATE_ORDER_REQUEST","CREATE_ORDER_SUCCESS","CREATE_ORDER_FAIL","MY_ORDERS_REQUEST","MY_ORDERS_SUCCESS","MY_ORDERS_FAIL","ALL_ORDERS_REQUEST","ALL_ORDERS_SUCCESS","ALL_ORDERS_FAIL","UPDATE_ORDER_REQUEST","UPDATE_ORDER_SUCCESS","UPDATE_ORDER_RESET","UPDATE_ORDER_FAIL","ORDER_DETAILS_REQUEST","ORDER_DETAILS_SUCCESS","ORDER_DETAILS_FAIL","createOrder","order","post","getOrderDetails","allOrders","options","base","fontSize","invalid","color","Payment","stripe","useStripe","elements","useElements","newOrder","orderItems","orderInfo","parse","getItem","paymentData","amount","Math","round","submitHandler","res","clientSecret","client_secret","console","log","confirmCardPayment","payment_method","card","getElement","CardNumberElement","billing_details","email","result","paymentIntent","status","paymentInfo","OrderSuccess","removeItem","setTimeout","window","location","ListOrders","myOrders","orders","columns","label","field","sort","rows","numOfItems","orderStatus","String","includes","actions","setOrders","bordered","striped","hover","OrderDetails","orderDetails","shippingDetails","isPaid","Login","setEmail","password","setPassword","isAuthenticated","redirect","search","split","login","Register","setUser","setAvatar","avatarPreview","setAvatarPreview","reader","FileReader","onload","readyState","readAsDataURL","files","encType","accept","Profile","createdAt","substring","UpdateProfile","setName","isUpdated","UpdatePassword","oldPassword","setOldPassword","passwords","for","Sidebar","LookAccount","setRole1","userDetails","userId","Chart","dataKey","grid","ResponsiveContainer","aspect","LineChart","XAxis","stroke","Line","Tooltip","CartesianGrid","strokeDasharray","ChartIncome","userStats","setUserStats","MONTHS","useMemo","prev","total","getStats","Dashboard","totalAmount","outOfStock","da_dat_hang","dang_van_chuyen","da_giao_hang","totalAmountall","lineState","labels","datasets","backgroundColor","hoverBackgroundColor","doughnutState","doughnutStateOrder","kho_giavi","dong_lanh","che_bien","thit_trung_haisan","rau_cu_traicay","banh_keo","do_uong","fill","borderColor","pointBackgroundColor","pointBorderColor","pointHoverBackgroundColor","pointHoverBorderColor","ProductsList","deleteError","isDeleted","deleteProductHandler","delete","deleteProduct","setProducts","NewProduct","setDescription","setStock","setSeller","setImages","imagesPreview","setImagesPreview","newProduct","productData","append","Array","from","file","oldArray","multiple","img","UpdateProduct","oldImages","setOldImages","updateError","productId","OrdersList","numofItems","ProcessOrder","setStatus","orderId","updateOrderHandler","orderData","updateOrder","UsersList","userr","hoat_dong","setUsers","UpdateUser","setRole","ProductReviews","setProductId","productReviews","deleteReviewHandler","deleteReview","setReviews","ProtectedRoute","isAdmin","component","rest","props","reducer","combineReducers","action","forgotPassword","isItemExist","find","i","filter","initialState","middlware","thunk","store","createStore","composeWithDevTools","applyMiddleware","App","stripeApiKey","setStripeApiKey","getStripApiKey","path","exact","loadStripe","timeout","position","positions","BOTTOM_CENTER","transition","transitions","SCALE","ReactDOM","template","AlertTemplate","getElementById"],"mappings":"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","file":"static/js/main.ac3f9372.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/default_avatar.0bbe4ef8.jpg\";","export const LOGIN_REQUEST = 'LOGIN_REQUEST'\r\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS'\r\nexport const LOGIN_FAIL = 'LOGIN_FAIL'\r\n\r\nexport const REGISTER_USER_REQUEST = 'REGISTER_USER_REQUEST'\r\nexport const REGISTER_USER_SUCCESS = 'REGISTER_USER_SUCCESS'\r\nexport const REGISTER_USER_FAIL = 'REGISTER_USER_FAIL'\r\n\r\nexport const LOAD_USER_REQUEST = 'LOAD_USER_REQUEST'\r\nexport const LOAD_USER_SUCCESS = 'LOAD_USER_SUCCESS'\r\nexport const LOAD_USER_FAIL = 'LOAD_USER_FAIL'\r\n\r\nexport const UPDATE_PROFILE_REQUEST = 'UPDATE_PROFILE_REQUEST'\r\nexport const UPDATE_PROFILE_SUCCESS = 'UPDATE_PROFILE_SUCCESS'\r\nexport const UPDATE_PROFILE_RESET = 'UPDATE_PROFILE_RESET'\r\nexport const UPDATE_PROFILE_FAIL = 'UPDATE_PROFILE_FAIL'\r\n\r\nexport const UPDATE_PASSWORD_REQUEST = 'UPDATE_PASSWORD_REQUEST'\r\nexport const UPDATE_PASSWORD_SUCCESS = 'UPDATE_PASSWORD_SUCCESS'\r\nexport const UPDATE_PASSWORD_RESET = 'UPDATE_PASSWORD_RESET'\r\nexport const UPDATE_PASSWORD_FAIL = 'UPDATE_PASSWORD_FAIL'\r\n\r\nexport const FORGOT_PASSWORD_REQUEST = 'FORGOT_PASSWORD_REQUEST'\r\nexport const FORGOT_PASSWORD_SUCCESS = 'FORGOT_PASSWORD_SUCCESS'\r\nexport const FORGOT_PASSWORD_FAIL = 'FORGOT_PASSWORD_FAIL'\r\n\r\nexport const NEW_PASSWORD_REQUEST = 'NEW_PASSWORD_REQUEST'\r\nexport const NEW_PASSWORD_SUCCESS = 'NEW_PASSWORD_SUCCESS'\r\nexport const NEW_PASSWORD_FAIL = 'NEW_PASSWORD_FAIL'\r\n\r\nexport const ALL_USERS_REQUEST = 'ALL_USERS_REQUEST'\r\nexport const ALL_USERS_SUCCESS = 'ALL_USERS_SUCCESS'\r\nexport const ALL_USERS_FAIL = 'ALL_USERS_FAIL'\r\n\r\nexport const USER_DETAILS_REQUEST = 'USER_DETAILS_REQUEST'\r\nexport const USER_DETAILS_SUCCESS = 'USER_DETAILS_SUCCESS'\r\nexport const USER_DETAILS_FAIL = 'USER_DETAILS_FAIL'\r\n\r\nexport const UPDATE_USER_REQUEST = 'UPDATE_USER_REQUEST'\r\nexport const UPDATE_USER_SUCCESS = 'UPDATE_USER_SUCCESS'\r\nexport const UPDATE_USER_RESET = 'UPDATE_USER_RESET'\r\nexport const UPDATE_USER_FAIL = 'UPDATE_USER_FAIL'\r\n\r\nexport const DELETE_USER_REQUEST = 'DELETE_USER_REQUEST'\r\nexport const DELETE_USER_SUCCESS = 'DELETE_USER_SUCCESS'\r\nexport const DELETE_USER_RESET = 'DELETE_USER_RESET'\r\nexport const DELETE_USER_FAIL = 'DELETE_USER_FAIL'\r\n\r\nexport const LOGOUT_SUCCESS = 'LOGOUT_SUCCESS'\r\nexport const LOGOUT_FAIL = 'LOGOUT_FAIL'\r\n\r\nexport const CLEAR_ERRORS = 'CLEAR_ERRORS'","import axios from 'axios'\r\nimport {\r\n    LOGIN_REQUEST,\r\n    LOGIN_SUCCESS,\r\n    LOGIN_FAIL,\r\n    REGISTER_USER_REQUEST,\r\n    REGISTER_USER_SUCCESS,\r\n    REGISTER_USER_FAIL,\r\n    LOAD_USER_REQUEST,\r\n    LOAD_USER_SUCCESS,\r\n    LOAD_USER_FAIL,\r\n    UPDATE_PROFILE_REQUEST,\r\n    UPDATE_PROFILE_SUCCESS,\r\n    UPDATE_PROFILE_FAIL,\r\n    UPDATE_PASSWORD_REQUEST,\r\n    UPDATE_PASSWORD_SUCCESS,\r\n    UPDATE_PASSWORD_FAIL,\r\n    FORGOT_PASSWORD_REQUEST,\r\n    FORGOT_PASSWORD_SUCCESS,\r\n    FORGOT_PASSWORD_FAIL,\r\n    NEW_PASSWORD_REQUEST,\r\n    NEW_PASSWORD_SUCCESS,\r\n    NEW_PASSWORD_FAIL,\r\n    ALL_USERS_REQUEST,\r\n    ALL_USERS_SUCCESS,\r\n    ALL_USERS_FAIL,\r\n    USER_DETAILS_REQUEST,\r\n    USER_DETAILS_SUCCESS,\r\n    USER_DETAILS_FAIL,\r\n    UPDATE_USER_REQUEST,\r\n    UPDATE_USER_SUCCESS,\r\n    UPDATE_USER_FAIL,\r\n    LOGOUT_SUCCESS,\r\n    LOGOUT_FAIL,\r\n    CLEAR_ERRORS\r\n} from '../constants/userConstants'\r\n\r\n// Login\r\nexport const login = (email, password) => async (dispatch) => {\r\n    try {\r\n\r\n        dispatch({ type: LOGIN_REQUEST })\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.post('/api/v1/login', { email, password }, config)\r\n\r\n        dispatch({\r\n            type: LOGIN_SUCCESS,\r\n            payload: data.user\r\n        })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: LOGIN_FAIL,\r\n            payload: error.response.data.message\r\n        })\r\n    }\r\n}\r\n\r\n// Register user\r\nexport const register = (userData) => async (dispatch) => {\r\n    try {\r\n\r\n        dispatch({ type: REGISTER_USER_REQUEST })\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.post('/api/v1/register', userData, config)\r\n\r\n        dispatch({\r\n            type: REGISTER_USER_SUCCESS,\r\n            payload: data.user\r\n        })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: REGISTER_USER_FAIL,\r\n            payload: error.response.data.message\r\n        })\r\n    }\r\n}\r\n\r\n// Load user\r\nexport const loadUser = () => async (dispatch) => {\r\n    try {\r\n\r\n        dispatch({ type: LOAD_USER_REQUEST })\r\n\r\n        const { data } = await axios.get('/api/v1/me')\r\n\r\n        dispatch({\r\n            type: LOAD_USER_SUCCESS,\r\n            payload: data.user\r\n        })\r\n\r\n    } catch (error) {\r\n        // KIM TRA TNH HP L CA PHN HI LI TRC KHI TRUY CP\r\n        const errorMessage = (error.response && error.response.data && error.response.data.message) \r\n            ? error.response.data.message \r\n            : error.message || 'Li khng xc nh khi ti ngi dng'; // Fallback nu khng c message\r\n\r\n        dispatch({\r\n            type: LOAD_USER_FAIL,\r\n            payload: errorMessage\r\n        })\r\n    }\r\n}\r\n\r\n// Update profile\r\nexport const updateProfile = (userData) => async (dispatch) => {\r\n    try {\r\n\r\n        dispatch({ type: UPDATE_PROFILE_REQUEST })\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.put('/api/v1/me/update', userData, config)\r\n\r\n        dispatch({\r\n            type: UPDATE_PROFILE_SUCCESS,\r\n            payload: data.success\r\n        })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: UPDATE_PROFILE_FAIL,\r\n            payload: error.response.data.message\r\n        })\r\n    }\r\n}\r\n\r\n// Update password\r\nexport const updatePassword = (passwords) => async (dispatch) => {\r\n    try {\r\n\r\n        dispatch({ type: UPDATE_PASSWORD_REQUEST })\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.put('/api/v1/password/update', passwords, config)\r\n\r\n        dispatch({\r\n            type: UPDATE_PASSWORD_SUCCESS,\r\n            payload: data.success\r\n        })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: UPDATE_PASSWORD_FAIL,\r\n            payload: error.response.data.message\r\n        })\r\n    }\r\n}\r\n\r\n// Forgot password\r\nexport const forgotPassword = (email) => async (dispatch) => {\r\n    try {\r\n\r\n        dispatch({ type: FORGOT_PASSWORD_REQUEST })\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.post('/api/v1/password/forgot', email, config)\r\n\r\n        dispatch({\r\n            type: FORGOT_PASSWORD_SUCCESS,\r\n            payload: data.message\r\n        })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: FORGOT_PASSWORD_FAIL,\r\n            payload: error.response.data.message\r\n        })\r\n    }\r\n}\r\n\r\n// Reset password\r\nexport const resetPassword = (token, passwords) => async (dispatch) => {\r\n    try {\r\n\r\n        dispatch({ type: NEW_PASSWORD_REQUEST })\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.put(`/api/v1/password/reset/${token}`, passwords, config)\r\n\r\n        dispatch({\r\n            type: NEW_PASSWORD_SUCCESS,\r\n            payload: data.success\r\n        })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: NEW_PASSWORD_FAIL,\r\n            payload: error.response.data.message\r\n        })\r\n    }\r\n}\r\n\r\n// Logout user\r\nexport const logout = () => async (dispatch) => {\r\n    try {\r\n\r\n        await axios.get('/api/v1/logout')\r\n\r\n        dispatch({\r\n            type: LOGOUT_SUCCESS,\r\n        })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: LOGOUT_FAIL,\r\n            payload: error.response.data.message\r\n        })\r\n    }\r\n}\r\n\r\n// Get all users\r\nexport const allUsers = () => async (dispatch) => {\r\n    try {\r\n\r\n        dispatch({ type: ALL_USERS_REQUEST })\r\n\r\n        const { data } = await axios.get('/api/v1/admin/users')\r\n\r\n        dispatch({\r\n            type: ALL_USERS_SUCCESS,\r\n            payload: data.users\r\n        })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: ALL_USERS_FAIL,\r\n            payload: error.response.data.message\r\n        })\r\n    }\r\n}\r\n\r\n// Update user - ADMIN\r\nexport const updateUser = (id, userData) => async (dispatch) => {\r\n    try {\r\n\r\n        dispatch({ type: UPDATE_USER_REQUEST })\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.put(`/api/v1/admin/user/${id}`, userData, config)\r\n\r\n        dispatch({\r\n            type: UPDATE_USER_SUCCESS,\r\n            payload: data.success\r\n        })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: UPDATE_USER_FAIL,\r\n            payload: error.response.data.message\r\n        })\r\n    }\r\n}\r\n\r\n// Get user details - ADMIN\r\nexport const getUserDetails = (id) => async (dispatch) => {\r\n    try {\r\n\r\n        dispatch({ type: USER_DETAILS_REQUEST })\r\n\r\n\r\n        const { data } = await axios.get(`/api/v1/admin/user/${id}`)\r\n\r\n        dispatch({\r\n            type: USER_DETAILS_SUCCESS,\r\n            payload: data.user\r\n        })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: USER_DETAILS_FAIL,\r\n            payload: error.response.data.message\r\n        })\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n// Clear Errors\r\nexport const clearErrors = () => async (dispatch) => {\r\n    dispatch({\r\n        type: CLEAR_ERRORS\r\n    })\r\n}","import React, { useState } from 'react'\r\n\r\nconst Search = ({ history }) => {\r\n\r\n    const [keyword, setKeyword] = useState('');\r\n\r\n    const searchHandler = (e) => {\r\n        e.preventDefault()\r\n\r\n        if (keyword.trim()) {\r\n            history.push(`/search/${keyword}`)\r\n        } else {\r\n            history.push('/')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={searchHandler} >\r\n            <div className=\"input-group\">\r\n                <input\r\n                    type=\"text\"\r\n                    id=\"search_field\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"in tn sn phm cn tm ...\"\r\n                    onChange={(e) => setKeyword(e.target.value)}\r\n                />\r\n                <div className=\"input-group-append\">\r\n                    <button id=\"search_btn\" className=\"btn\">\r\n                        <i className=\"fa fa-search\" aria-hidden=\"true\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Search\r\n","import React, { Fragment } from 'react'\r\nimport { Route, Link } from 'react-router-dom'\r\nimport DefaultAvatar from \"..//default_avatar.jpg\";\r\n\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useAlert } from 'react-alert'\r\nimport { logout } from '../../actions/userActions'\r\n\r\nimport Search from './Search'\r\n\r\nimport '../../App.css'\r\n\r\nconst Header = () => {\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { user, loading } = useSelector(state => state.auth)\r\n    const { cartItems } = useSelector(state => state.cart)\r\n\r\n    const logoutHandler = () => {\r\n        dispatch(logout());\r\n        alert.success('ng xut thnh cng')\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <nav className=\"navbar row\">\r\n                <div className=\"col-12 col-md-3\">\r\n                    <div className=\"navbar-brand\">\r\n                        <Link to=\"/\">\r\n                            <img src=\"/images/logo.png\" alt='' />\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"col-12 col-md-6 mt-2 mt-md-0\">\r\n                    <Route render={({ history }) => <Search history={history} />} />\r\n                </div>\r\n\r\n                <div className=\"col-12 col-md-3 mt-4 mt-md-0 text-center\">\r\n                    {user && user.role === 'admin' ? (\r\n                        <p></p>\r\n                    ) : (\r\n                        \r\n                        <Link to=\"/cart\" style={{ textDecoration: 'none' }} >\r\n                            <span id=\"cart\" className=\"ml-3\">Gi hng</span>\r\n                            <span className=\"ml-1\" id=\"cart_count\"><i class=\"bi bi-cart4\"></i>{cartItems.length}</span>\r\n                        </Link>\r\n                    )}\r\n\r\n                    {user ? (\r\n                        <div className=\"ml-4 dropdown d-inline\">\r\n                            <Link to=\"#!\" className=\"btn dropdown-toggle text-white mr-4\" type=\"button\" id=\"dropDownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n\r\n                                <figure className=\"avatar avatar-nav\">\r\n                                    <img\r\n                                        src={user.avatar || DefaultAvatar}\r\n                                        alt={user && user.name}\r\n                                        className=\"rounded-circle\"\r\n                                    />\r\n                                </figure>\r\n                                <span>{user && user.name}</span>\r\n                            </Link>\r\n\r\n                            <div className=\"dropdown-menu\" aria-labelledby=\"dropDownMenuButton\">\r\n\r\n                                {user && user.role === 'admin' && (\r\n                                    <Link className=\"dropdown-item\" to=\"/dashboard\">Trang qun tr</Link>\r\n                                )}\r\n                                {user && user.role !== 'admin' && (\r\n                                    <Link className=\"dropdown-item\" to=\"/orders/me\">n t hng</Link>\r\n                                )}\r\n\r\n                                <Link className=\"dropdown-item\" to=\"/me\">Thng tin c nhn</Link>\r\n                                <Link className=\"dropdown-item text-danger\" to=\"/\" onClick={logoutHandler}>\r\n                                    ng xut\r\n                                </Link>\r\n\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n\r\n                    ) : !loading && <Link to=\"/login\" className=\"btn ml-4\" id=\"login_btn\">ng nhp</Link>}\r\n\r\n\r\n                </div>\r\n            </nav>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React, { Fragment } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <Fragment>\r\n      <footer className=\"footer\">\r\n        {/* Footer Top */}\r\n        <br/>\r\n        <div className=\"footer-top section\">\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-5 col-md-6 col-12\">\r\n                {/* Single Widget */}\r\n                <div className=\"single-footer about\">\r\n                  <div className=\"logo\">\r\n                    <a href=\"index.html\"><img src=\"/images/logo.png\" alt=\"#\" /></a>\r\n                  </div>\r\n                  <p className=\"text\">Website bn hng trc tuyn ca Thng Long Store, h tr 24/7 cng nhiu u i hp dn. Lun lun cp nht mi nhiu sn phm.</p>\r\n                  <p className=\"text\">Cn h tr lin h vi chng ti: <span><a href=\"tel:123456789\">+0123 456 789</a></span></p>\r\n                </div>\r\n                {/* End Single Widget */}\r\n              </div>\r\n              <div className=\"col-lg-2 col-md-6 col-12\">\r\n                {/* Single Widget */}\r\n                <div className=\"single-footer links\">\r\n                  <h4>Thng tin</h4>\r\n                  <ul>\r\n                    <li><Link to=''>V chng ti</Link></li>\r\n                    <li><Link to=''>iu khon v iu kin</Link></li>\r\n                    <li><Link to=''>Lin h vi chng ti</Link></li>\r\n                    <li><Link to=''>Gip </Link></li>\r\n                  </ul>\r\n                </div>\r\n                {/* End Single Widget */}\r\n              </div>\r\n              <div className=\"col-lg-2 col-md-6 col-12\">\r\n                {/* Single Widget */}\r\n                <div className=\"single-footer links\">\r\n                  <h4>Dch v khch hng</h4>\r\n                  <ul>\r\n                    <li><Link to=''>Phng thc thanh ton</Link></li>\r\n                    <li><Link to=''>Hon tin</Link></li>\r\n                    <li><Link to=''>Giao hng</Link></li>\r\n                    <li><Link to=''>iu khon v bo mt</Link></li>\r\n                  </ul>\r\n                </div>\r\n                {/* End Single Widget */}\r\n              </div>\r\n              <div className=\"col-lg-3 col-md-6 col-12\">\r\n                {/* Single Widget */}\r\n                <div className=\"single-footer social\">\r\n                  <h4>Thng tin</h4>\r\n                  {/* Single Widget */}\r\n                  <div className=\"contact\">\r\n                    <ul>\r\n                      <li>S 263 D Tng, Nha Trang, Khnh Ha</li>\r\n                      <li>Nhm 3</li>\r\n                      <li>info@tltore.com</li>\r\n                      <li>+012 3456 7890</li>\r\n                    </ul>\r\n                  </div>\r\n                  {/* End Single Widget */}\r\n                  <ul>\r\n                  </ul>\r\n                </div>\r\n                {/* End Single Widget */}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* End Footer Top */}\r\n        <div className=\"copyright\">\r\n          <div className=\"container\">\r\n            <div className=\"inner\">\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-12 col-12\">\r\n                  <div className=\"text-center\">\r\n                    <p>Copyright  2022 By Nhm 3</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-lg-6 col-12\">\r\n                  <div className=\"right\">\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </footer>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","import React from 'react'\r\nimport { Helmet } from 'react-helmet'\r\n\r\nconst MetaData = ({ title }) => {\r\n    return (\r\n        <Helmet>\r\n            <title>{`${title} - 60CNTT.1`}</title>\r\n        </Helmet>\r\n    )\r\n}\r\n\r\nexport default MetaData\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n// import { useDispatch } from 'react-redux'\r\n// import { useAlert } from 'react-alert';\r\n\r\n\r\n\r\nconst Product = ({ product, col}) => {\r\n\r\n    return (\r\n\r\n        <div className={`col-sm-12 col-md-6 col-lg-${col} my-3`}>\r\n            <div className=\" card card p-3 rounded\">\r\n                <Link to={`/product/${product._id}`}><img className=\"card-img-top mx-auto\" src={product.images[0].url} alt='' /></Link>\r\n                <div className=\"card-body d-flex flex-column\">\r\n                    <h5 className=\"card-title\">\r\n                        <Link to={`/product/${product._id}`}>{product.name}</Link>\r\n                    </h5>\r\n                    <div className=\"ratings mt-auto\">\r\n                        <div className=\"rating-outer\">\r\n                            <div className=\"rating-inner\" style={{ width: `${(product.ratings / 5) * 100}%` }}></div>\r\n                        </div>\r\n                        <span id=\"no_of_reviews\">({product.numOfReviews} nh gi)</span>\r\n                    </div>\r\n                    <p className=\"card-text\">{(product.price).toLocaleString()}</p>\r\n                    <div class=\"container\">\r\n                        <div class=\"row\">\r\n                            <Link to={`/product/${product._id}`} id=\"view_btn\" className=\"btn btn-block\"><i class=\"fa fa-eye\" aria-hidden=\"true\"><span>&nbsp;</span></i>Xem chi tit</Link>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default Product\r\n","import React from 'react'\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <div className=\"containerr\">\r\n            <div className=\"loaderv loader9\"></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loader\r\n","export const ADMIN_PRODUCTS_REQUEST = 'ADMIN_PRODUCTS_REQUEST'\r\nexport const ADMIN_PRODUCTS_SUCCESS = 'ADMIN_PRODUCTS_SUCCESS'\r\nexport const ADMIN_PRODUCTS_FAIL = 'ADMIN_PRODUCTS_FAIL'\r\n\r\nexport const ALL_PRODUCTS_REQUEST = 'ALL_PRODUCTS_REQUEST'\r\nexport const ALL_PRODUCTS_SUCCESS = 'ALL_PRODUCTS_SUCCESS'\r\nexport const ALL_PRODUCTS_FAIL = 'ALL_PRODUCTS_FAIL'\r\n\r\nexport const NEW_PRODUCT_REQUEST = 'NEW_PRODUCT_REQUEST'\r\nexport const NEW_PRODUCT_SUCCESS = 'NEW_PRODUCT_SUCCESS'\r\nexport const NEW_PRODUCT_RESET = 'NEW_PRODUCT_RESET'\r\nexport const NEW_PRODUCT_FAIL = 'NEW_PRODUCT_FAIL'\r\n\r\nexport const DELETE_PRODUCT_REQUEST = 'DELETE_PRODUCT_REQUEST'\r\nexport const DELETE_PRODUCT_SUCCESS = 'DELETE_PRODUCT_SUCCESS'\r\nexport const DELETE_PRODUCT_RESET = 'DELETE_PRODUCT_RESET'\r\nexport const DELETE_PRODUCT_FAIL = 'DELETE_PRODUCT_FAIL'\r\n\r\nexport const UPDATE_PRODUCT_REQUEST = 'UPDATE_PRODUCT_REQUEST'\r\nexport const UPDATE_PRODUCT_SUCCESS = 'UPDATE_PRODUCT_SUCCESS'\r\nexport const UPDATE_PRODUCT_RESET = 'UPDATE_PRODUCT_RESET'\r\nexport const UPDATE_PRODUCT_FAIL = 'UPDATE_PRODUCT_FAIL'\r\n\r\nexport const PRODUCT_DETAILS_REQUEST = 'PRODUCT_DETAILS_REQUEST'\r\nexport const PRODUCT_DETAILS_SUCCESS = 'PRODUCT_DETAILS_SUCCESS'\r\nexport const PRODUCT_DETAILS_FAIL = 'PRODUCT_DETAILS_FAIL'\r\n\r\nexport const NEW_REVIEW_REQUEST = 'NEW_REVIEW_REQUEST'\r\nexport const NEW_REVIEW_SUCCESS = 'NEW_REVIEW_SUCCESS'\r\nexport const NEW_REVIEW_RESET = 'NEW_REVIEW_RESET'\r\nexport const NEW_REVIEW_FAIL = 'NEW_REVIEW_FAIL'\r\n\r\nexport const GET_REVIEWS_REQUEST = 'GET_REVIEWS_REQUEST'\r\nexport const GET_REVIEWS_SUCCESS = 'GET_REVIEWS_SUCCESS'\r\nexport const GET_REVIEWS_FAIL = 'GET_REVIEWS_FAIL'\r\n\r\nexport const DELETE_REVIEW_REQUEST = 'DELETE_REVIEW_REQUEST'\r\nexport const DELETE_REVIEW_SUCCESS = 'DELETE_REVIEW_SUCCESS'\r\nexport const DELETE_REVIEW_RESET = 'DELETE_REVIEW_RESET'\r\nexport const DELETE_REVIEW_FAIL = 'DELETE_REVIEW_FAIL'\r\n\r\nexport const CLEAR_ERRORS = 'CLEAR_ERRORS'","import axios from 'axios';\r\n\r\nimport {\r\n    ALL_PRODUCTS_REQUEST,\r\n    ALL_PRODUCTS_SUCCESS,\r\n    ALL_PRODUCTS_FAIL,\r\n    ADMIN_PRODUCTS_REQUEST,\r\n    ADMIN_PRODUCTS_SUCCESS,\r\n    ADMIN_PRODUCTS_FAIL,\r\n    NEW_PRODUCT_REQUEST,\r\n    NEW_PRODUCT_SUCCESS,\r\n    NEW_PRODUCT_FAIL,\r\n    DELETE_PRODUCT_REQUEST,\r\n    DELETE_PRODUCT_SUCCESS,\r\n    DELETE_PRODUCT_FAIL,\r\n    UPDATE_PRODUCT_REQUEST,\r\n    UPDATE_PRODUCT_SUCCESS,\r\n    UPDATE_PRODUCT_FAIL,\r\n    PRODUCT_DETAILS_REQUEST,\r\n    PRODUCT_DETAILS_SUCCESS,\r\n    PRODUCT_DETAILS_FAIL,\r\n    NEW_REVIEW_REQUEST,\r\n    NEW_REVIEW_SUCCESS,\r\n    NEW_REVIEW_FAIL,\r\n    GET_REVIEWS_REQUEST,\r\n    GET_REVIEWS_SUCCESS,\r\n    GET_REVIEWS_FAIL,\r\n    DELETE_REVIEW_REQUEST,\r\n    DELETE_REVIEW_SUCCESS,\r\n    DELETE_REVIEW_FAIL,\r\n    CLEAR_ERRORS\r\n\r\n} from '../constants/productConstants'\r\n\r\nexport const getProducts = (keyword = '', currentPage = 1, price, category, rating = 0) => async (dispatch) => {\r\n    try {\r\n\r\n        dispatch({ type: ALL_PRODUCTS_REQUEST })\r\n\r\n        let link = `/api/v1/products?keyword=${keyword}&page=${currentPage}&price[lte]=${price[1]}&price[gte]=${price[0]}&ratings[gte]=${rating}`\r\n\r\n        if (category) {\r\n            link = `/api/v1/products?keyword=${keyword}&page=${currentPage}&price[lte]=${price[1]}&price[gte]=${price[0]}&category=${category}&ratings[gte]=${rating}`\r\n        }\r\n\r\n        const { data } = await axios.get(link)\r\n\r\n        dispatch({\r\n            type: ALL_PRODUCTS_SUCCESS,\r\n            payload: data\r\n        })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: ALL_PRODUCTS_FAIL,\r\n            payload: error.response.data.message\r\n        })\r\n    }\r\n}\r\n\r\nexport const newProduct = (productData) => async (dispatch) => {\r\n    try {\r\n\r\n        dispatch({ type: NEW_PRODUCT_REQUEST })\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.post(`/api/v1/admin/product/new`, productData, config)\r\n\r\n        dispatch({\r\n            type: NEW_PRODUCT_SUCCESS,\r\n            payload: data\r\n        })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: NEW_PRODUCT_FAIL,\r\n            payload: error.response.data.message\r\n        })\r\n    }\r\n}\r\n\r\n// Delete product (Admin)\r\nexport const deleteProduct = (id) => async (dispatch) => {\r\n    try {\r\n\r\n        dispatch({ type: DELETE_PRODUCT_REQUEST })\r\n\r\n        const { data } = await axios.delete(`/api/v1/admin/product/${id}`)\r\n\r\n        dispatch({\r\n            type: DELETE_PRODUCT_SUCCESS,\r\n            payload: data.success\r\n        })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: DELETE_PRODUCT_FAIL,\r\n            payload: error.response.data.message\r\n        })\r\n    }\r\n}\r\n\r\n// Update Product (ADMIN)\r\nexport const updateProduct = (id, productData) => async (dispatch) => {\r\n    try {\r\n\r\n        dispatch({ type: UPDATE_PRODUCT_REQUEST })\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.put(`/api/v1/admin/product/${id}`, productData, config)\r\n\r\n        dispatch({\r\n            type: UPDATE_PRODUCT_SUCCESS,\r\n            payload: data.success\r\n        })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: UPDATE_PRODUCT_FAIL,\r\n            payload: error.response.data.message\r\n        })\r\n    }\r\n}\r\n\r\nexport const getProductDetails = (id) => async (dispatch) => {\r\n    try {\r\n\r\n        dispatch({ type: PRODUCT_DETAILS_REQUEST })\r\n\r\n        const { data } = await axios.get(`/api/v1/product/${id}`)\r\n\r\n        dispatch({\r\n            type: PRODUCT_DETAILS_SUCCESS,\r\n            payload: data.product\r\n        })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: PRODUCT_DETAILS_FAIL,\r\n            payload: error.response.data.message\r\n        })\r\n    }\r\n}\r\n\r\nexport const newReview = (reviewData) => async (dispatch) => {\r\n    try {\r\n\r\n        dispatch({ type: NEW_REVIEW_REQUEST })\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.put(`/api/v1/review`, reviewData, config)\r\n\r\n        dispatch({\r\n            type: NEW_REVIEW_SUCCESS,\r\n            payload: data.success\r\n        })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: NEW_REVIEW_FAIL,\r\n            payload: error.response.data.message\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const getAdminProducts = () => async (dispatch) => {\r\n    try {\r\n\r\n        dispatch({ type: ADMIN_PRODUCTS_REQUEST })\r\n\r\n        const { data } = await axios.get(`/api/v1/admin/products`)\r\n\r\n        dispatch({\r\n            type: ADMIN_PRODUCTS_SUCCESS,\r\n            payload: data.products\r\n        })\r\n\r\n    } catch (error) {\r\n\r\n        dispatch({\r\n            type: ADMIN_PRODUCTS_FAIL,\r\n            payload: error.response.data.message\r\n        })\r\n    }\r\n}\r\n\r\n// Get product reviews\r\nexport const getProductReviews = (id) => async (dispatch) => {\r\n    try {\r\n\r\n        dispatch({ type: GET_REVIEWS_REQUEST })\r\n\r\n        const { data } = await axios.get(`/api/v1/reviews?id=${id}`)\r\n\r\n        dispatch({\r\n            type: GET_REVIEWS_SUCCESS,\r\n            payload: data.reviews\r\n        })\r\n\r\n    } catch (error) {\r\n\r\n        dispatch({\r\n            type: GET_REVIEWS_FAIL,\r\n            payload: error.response.data.message\r\n        })\r\n    }\r\n}\r\n\r\n// Delete product review\r\nexport const deleteReview = (id, productId) => async (dispatch) => {\r\n    try {\r\n\r\n        dispatch({ type: DELETE_REVIEW_REQUEST })\r\n\r\n        const { data } = await axios.delete(`/api/v1/reviews?id=${id}&productId=${productId}`)\r\n\r\n        dispatch({\r\n            type: DELETE_REVIEW_SUCCESS,\r\n            payload: data.success\r\n        })\r\n\r\n    } catch (error) {\r\n\r\n        console.log(error.response);\r\n\r\n        dispatch({\r\n            type: DELETE_REVIEW_FAIL,\r\n            payload: error.response.data.message\r\n        })\r\n    }\r\n}\r\n\r\n// Clear Errors\r\nexport const clearErrors = () => async (dispatch) => {\r\n    dispatch({\r\n        type: CLEAR_ERRORS\r\n    })\r\n}","import React, { Component } from 'react';\r\n\r\nclass Sliderr extends Component {\r\n    render() {\r\n        return (\r\n\r\n            <div id=\"carouselExampleFade\" className=\"carousel slide carousel-fade\" data-ride=\"carousel\">\r\n                <div className=\"carousel-inner\">\r\n                    <div className=\"carousel-item active\">\r\n                        <img className=\"d-block w-100\" src=\"https://cdn-crownx.winmart.vn/images/prod/5_f57517d5-2c25-4edb-a372-9bc83971ef1b.jpg\" height={500} alt=\"First slide\" />\r\n                    </div>\r\n                    <div className=\"carousel-item\">\r\n                        <img className=\"d-block w-100\" src=\"https://cdn-crownx.winmart.vn/images/prod/7_feba59fd-77f4-41ae-80ed-02cb70628eef.jpg\" height={500} alt=\"Second slide\" />\r\n                    </div>\r\n                    <div className=\"carousel-item\">\r\n                        <img className=\"d-block w-100\" src=\"https://cdn-crownx.winmart.vn/images/prod/3_f7f32174-8dfb-4783-b5c8-72e2827d1eae.jpg\" height={500} alt=\"Third slide\" />\r\n                    </div>\r\n                    <div className=\"carousel-item\">\r\n                        <img className=\"d-block w-100\" src=\"https://cdn-crownx.winmart.vn/images/prod/barona_15-31.01_d807d5c2-494e-4105-a0ea-9c4a4d526e17.png\" height={500} alt=\"Four slide\" />\r\n                    </div>\r\n                    <div className=\"carousel-item\">\r\n                        <img className=\"d-block w-100\" src=\"https://cdn-crownx.winmart.vn/images/prod/8_4996d437-64f1-4426-afd0-95fdbd57e185.jpg\" height={500} alt=\"Four slide\" />\r\n                    </div>\r\n                </div>\r\n                <a className=\"carousel-control-prev\" href=\"#carouselExampleFade\" role=\"button\" data-slide=\"prev\">\r\n                    <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\" />\r\n                    <span className=\"sr-only\">Previous</span>\r\n                </a>\r\n                <a className=\"carousel-control-next\" href=\"#carouselExampleFade\" role=\"button\" data-slide=\"next\">\r\n                    <span className=\"carousel-control-next-icon\" aria-hidden=\"true\" />\r\n                    <span className=\"sr-only\">Next</span>\r\n                </a>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Sliderr;","import React, { Fragment, useState, useEffect } from 'react'\r\nimport Pagination from 'react-js-pagination'\r\nimport Slider from 'rc-slider'\r\nimport 'rc-slider/assets/index.css';\r\n\r\nimport MetaData from './layout/MetaData'\r\nimport Product from './product/Product'\r\nimport Loader from './layout/Loader'\r\n\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useAlert } from 'react-alert';\r\nimport { getProducts } from '../actions/productActions';\r\n\r\nimport Sliderr from '../components/layout/Slider'\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst { createSliderWithTooltip } = Slider;\r\nconst Range = createSliderWithTooltip(Slider.Range)\r\n\r\nconst Home = ({ match }) => {\r\n    const [currentPage, setCurrentPage] = useState(1)\r\n    const [price, setPrice] = useState([1, 1000000])\r\n    const [category, setCategory] = useState('')\r\n    const [rating, setRating] = useState(0)\r\n\r\n    const categories = [\r\n        'Rau-C-Tri cy',\r\n        'Tht-Trng-Hi sn',\r\n        'Thc phm ch bin',\r\n        'Thc phm ng lnh',\r\n        'Thc phm Kh - Gia V',\r\n        'Bnh ko -  n vt',\r\n        \"Sa - Sn phm t sa\",\r\n        ' ung - Gii kht',\r\n        'Ha M phm',\r\n        'Chm sc c nhn',\r\n        // 'Chm sc m v b',\r\n        // 'Th thao'\r\n    ]\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { loading, products, error, productsCount, resPerPage, filteredProductsCount } = useSelector(state => state.products)\r\n\r\n    const keyword = match.params.keyword\r\n\r\n    useEffect(() => {\r\n        if (error) {\r\n            return alert.error(error)\r\n        }\r\n\r\n        dispatch(getProducts(keyword, currentPage, price, category, rating));\r\n\r\n\r\n    }, [dispatch, alert, error, keyword, currentPage, price, category, rating])\r\n\r\n    function setCurrentPageNo(pageNumber) {\r\n        setCurrentPage(pageNumber)\r\n    }\r\n\r\n    let count = productsCount;\r\n    if (keyword) {\r\n        count = filteredProductsCount\r\n    }\r\n\r\n\r\n    return (\r\n        <Fragment>\r\n            <slideCategoryy />\r\n            <Sliderr />\r\n            <br />\r\n            <h3 className='text-center'>Danh mc sn phm</h3>\r\n            <div id=\"products_heading\" className='container container-fluid'>\r\n                <ul id=\"ul_top_hypers\">\r\n                    {categories.map(category => (\r\n                        <li\r\n                            style={{\r\n                                cursor: 'pointer',\r\n                                listStyleType: 'none'\r\n                            }}\r\n                            key={category}\r\n                            onClick={() => setCategory(category)}\r\n                        >\r\n                            <div className=\"button\">\r\n                                <p className=\"btnText\">{category}</p>\r\n                                <div className=\"btnTwo\">\r\n                                    <p className=\"btnText2\">Chn!</p>\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            </div>\r\n            <br />\r\n            {/* <br />\r\n            <div className=\"button\">\r\n                <p className=\"btnText\">{category}</p>\r\n                <div className=\"btnTwo\">\r\n                    <p className=\"btnText2\">GO!</p>\r\n                </div>\r\n            </div> */}\r\n            {loading ? <Loader /> : (\r\n                <Fragment>\r\n                    <MetaData title={'Website bn hng trc tuyn'} />\r\n\r\n                    <h1 id=\"products_heading\" className=\"container container-fluid\">&emsp;&emsp;&emsp;</h1>\r\n                    <h3 className='text-center'>Sn phm</h3>\r\n\r\n                    <section id=\"products\" className=\"container mt-5\">\r\n                        {<div className=\"row\">\r\n\r\n                            {keyword ? (\r\n                                <Fragment>\r\n                                    <div className=\"col-6 col-md-3 mt-5 mb-5\">\r\n\r\n                                        <div className=\"px-5\">\r\n                                            <h4 className=\"mb-5\">\r\n                                                Khong gi\r\n                                            </h4>\r\n                                            <Range\r\n                                                marks={{\r\n                                                    10000: `10.000`,\r\n                                                    1000000: `1.000.000`\r\n                                                }}\r\n                                                min={10}\r\n                                                max={1000000}\r\n                                                defaultValue={[1, 1000000]}\r\n                                                tipFormatter={value => `${value}`}\r\n                                                tipProps={{\r\n                                                    placement: \"top\",\r\n                                                    visible: true\r\n                                                }}\r\n                                                value={price}\r\n                                                onChange={price => setPrice(price)}\r\n                                            />\r\n                                            <br/>\r\n                                            <hr className=\"my-3\" />\r\n\r\n                                            <div className=\"mt-5\">\r\n                                                <h4 className=\"mb-3\">\r\n                                                    nh gi\r\n                                                </h4>\r\n\r\n                                                <ul className=\"pl-0\">\r\n                                                    {[5, 4, 3, 2, 1].map(star => (\r\n                                                        <li\r\n                                                            style={{\r\n                                                                cursor: 'pointer',\r\n                                                                listStyleType: 'none'\r\n                                                            }}\r\n                                                            key={star}\r\n                                                            onClick={() => setRating(star)}\r\n                                                        >\r\n                                                            <div className=\"rating-outer\">\r\n                                                                <div className=\"rating-inner\"\r\n                                                                    style={{\r\n                                                                        width: `${star * 20}%`\r\n                                                                    }}\r\n                                                                >\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </li>\r\n                                                    ))}\r\n                                                </ul>\r\n                                            </div>\r\n\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"col-6 col-md-9\">\r\n                                        <div className=\"row\">\r\n                                            {products.map(product => (\r\n                                                <Product key={product._id} product={product} col={4} />\r\n                                            ))}\r\n                                        </div>\r\n                                    </div>\r\n                                </Fragment>\r\n                            ) : (\r\n                                products.map(product => (\r\n                                    <Product key={product._id} product={product} col={3}/>\r\n                                ))\r\n                            )}\r\n\r\n                        </div>}\r\n                    </section>\r\n\r\n                    {resPerPage <= count && (\r\n                        <div className=\"d-flex justify-content-center mt-5\">\r\n                            <Pagination\r\n                                activePage={currentPage}\r\n                                itemsCountPerPage={resPerPage}\r\n                                totalItemsCount={productsCount}\r\n                                onChange={setCurrentPageNo}\r\n                                nextPageText={'Tip'}\r\n                                prevPageText={'Tr v'}\r\n                                firstPageText={'u tin'}\r\n                                lastPageText={'Cui cng'}\r\n                                itemClass=\"page-item\"\r\n                                linkClass=\"page-link\"\r\n                            />\r\n                        </div>\r\n                    )}\r\n\r\n                </Fragment>\r\n            )}\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React from 'react'\r\n\r\nconst ListReviews = ({ reviews }) => {\r\n    return (\r\n        <div class=\"reviews w-75\">\r\n            <h3>NH GI SN PHM:</h3>\r\n            <hr />\r\n            {reviews && reviews.map(review => (\r\n                <div key={review._id} class=\"review-card my-3\">\r\n                    <p class=\"review_user\">\r\n                        <figure className=\"avatar avatar-nav\">\r\n                            <img\r\n                                src=\"https://static2.yan.vn/YanNews/2167221/202102/facebook-cap-nhat-avatar-doi-voi-tai-khoan-khong-su-dung-anh-dai-dien-e4abd14d.jpg\"\r\n                                alt=''\r\n                                className=\"rounded-circle\"\r\n                            />\r\n                        </figure>\r\n                        <b>{review.name}</b>&ensp;\r\n                        <div class=\"rating-outer\">\r\n                            <div class=\"rating-inner\" style={{ width: `${(review.rating / 5) * 100}%` }}></div>\r\n                        </div>\r\n                    </p>\r\n\r\n                    <p class=\"review_comment text-primary\">{review.comment}</p>\r\n\r\n                    <hr />\r\n                </div>\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ListReviews\r\n","export const ADD_TO_CART = 'ADD_TO_CART'\r\nexport const REMOVE_ITEM_CART = 'REMOVE_ITEM_CART'\r\nexport const SAVE_SHIPPING_INFO = 'SAVE_SHIPPING_INFO'","import axios from 'axios'\r\nimport { ADD_TO_CART, REMOVE_ITEM_CART, SAVE_SHIPPING_INFO } from '../constants/cartConstants'\r\n\r\nexport const addItemToCart = (id, quantity) => async (dispatch, getState) => {\r\n    const { data } = await axios.get(`/api/v1/product/${id}`)\r\n\r\n    dispatch({\r\n        type: ADD_TO_CART,\r\n        payload: {\r\n            product: data.product._id,\r\n            name: data.product.name,\r\n            price: data.product.price,\r\n            image: data.product.images[0].url,\r\n            stock: data.product.stock,\r\n            quantity\r\n        }\r\n    })\r\n\r\n    localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems))\r\n}\r\n\r\nexport const removeItemFromCart = (id) => async (dispatch, getState) => {\r\n\r\n    dispatch({\r\n        type: REMOVE_ITEM_CART,\r\n        payload: id\r\n    })\r\n\r\n    localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems))\r\n\r\n}\r\n\r\nexport const saveShippingInfo = (data) => async (dispatch) => {\r\n\r\n    dispatch({\r\n        type: SAVE_SHIPPING_INFO,\r\n        payload: data\r\n    })\r\n\r\n    localStorage.setItem('shippingInfo', JSON.stringify(data))\r\n\r\n}","import React, { Fragment, useState, useEffect } from 'react'\r\nimport { Carousel } from 'react-bootstrap'\r\n\r\nimport Loader from '../layout/Loader'\r\nimport MetaData from '../layout/MetaData'\r\nimport ListReviews from '../review/ListReviews'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getProductDetails, newReview, clearErrors } from '../../actions/productActions'\r\nimport { addItemToCart } from '../../actions/cartActions'\r\nimport { NEW_REVIEW_RESET } from '../../constants/productConstants'\r\n\r\nconst ProductDetails = ({ match }) => {\r\n\r\n    const [quantity, setQuantity] = useState(1)\r\n    const [rating, setRating] = useState(0);\r\n    const [comment, setComment] = useState('');\r\n\r\n    const dispatch = useDispatch();\r\n    const alert = useAlert();\r\n\r\n    const { loading, error, product } = useSelector(state => state.productDetails)\r\n    const { user } = useSelector(state => state.auth)\r\n    const { error: reviewError, success } = useSelector(state => state.newReview)\r\n\r\n    useEffect(() => {\r\n        dispatch(getProductDetails(match.params.id))\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors())\r\n        }\r\n\r\n        if (reviewError) {\r\n            alert.error(reviewError);\r\n            dispatch(clearErrors())\r\n        }\r\n\r\n        if (success) {\r\n            alert.success('nh gi thnh cng')\r\n            dispatch({ type: NEW_REVIEW_RESET })\r\n        }\r\n\r\n    }, [dispatch, alert, error, reviewError, match.params.id, success])\r\n\r\n    const addToCart = () => {\r\n        dispatch(addItemToCart(match.params.id, quantity));\r\n        alert.success(' thm vo gi hng')\r\n    }\r\n\r\n    const increaseQty = () => {\r\n        const count = document.querySelector('.count')\r\n\r\n        if (count.valueAsNumber >= product.stock) return;\r\n\r\n        const qty = count.valueAsNumber + 1;\r\n        setQuantity(qty)\r\n    }\r\n\r\n    const decreaseQty = () => {\r\n\r\n        const count = document.querySelector('.count')\r\n\r\n        if (count.valueAsNumber <= 1) return;\r\n\r\n        const qty = count.valueAsNumber - 1;\r\n        setQuantity(qty)\r\n\r\n    }\r\n\r\n    function setUserRatings() {\r\n        const stars = document.querySelectorAll('.star');\r\n\r\n        stars.forEach((star, index) => {\r\n            star.starValue = index + 1;\r\n\r\n            ['click', 'mouseover', 'mouseout'].forEach(function (e) {\r\n                star.addEventListener(e, showRatings);\r\n            })\r\n        })\r\n\r\n        function showRatings(e) {\r\n            stars.forEach((star, index) => {\r\n                if (e.type === 'click') {\r\n                    if (index < this.starValue) {\r\n                        star.classList.add('orange');\r\n\r\n                        setRating(this.starValue)\r\n                    } else {\r\n                        star.classList.remove('orange')\r\n                    }\r\n                }\r\n\r\n                if (e.type === 'mouseover') {\r\n                    if (index < this.starValue) {\r\n                        star.classList.add('yellow');\r\n                    } else {\r\n                        star.classList.remove('yellow')\r\n                    }\r\n                }\r\n\r\n                if (e.type === 'mouseout') {\r\n                    star.classList.remove('yellow')\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    const reviewHandler = () => {\r\n        const formData = new FormData();\r\n\r\n        formData.set('rating', rating);\r\n        formData.set('comment', comment);\r\n        formData.set('productId', match.params.id);\r\n\r\n        dispatch(newReview(formData));\r\n    }\r\n    return (\r\n        <Fragment>\r\n            {loading ? <Loader /> : (\r\n                <Fragment>\r\n                    <MetaData title={product.name} />\r\n                    <div className=\"row d-flex justify-content-around\">\r\n                        <div className=\"col-12 col-lg-5 img-fluid\" id=\"product_image\">\r\n                            <Carousel pause='hover'>\r\n                                {product.images && product.images.map(image => (\r\n                                    <Carousel.Item key={image.public_id}>\r\n                                        <img className=\"d-block w-100\" src={image.url} alt={product.title} />\r\n                                    </Carousel.Item>\r\n                                ))}\r\n                            </Carousel>\r\n                        </div>\r\n\r\n                        <div className=\"col-12 col-lg-5 mt-5\">\r\n                            <h3>{product.name}</h3>\r\n                            <hr />\r\n\r\n                            <div className=\"rating-outer\">\r\n                                <span id=\"no_of_reviews\">{product.ratings}</span>\r\n                                <div className=\"rating-inner\" style={{ width: `${(product.ratings / 5) * 100}%` }}></div>\r\n                            </div>\r\n                            <span id=\"no_of_reviews\">({product.numOfReviews} nh gi)</span>\r\n\r\n                            <hr />\r\n                            <p id=\"product_price\">{product.price}</p>\r\n                            <div className=\"stockCounter d-inline\">\r\n                                <span className=\"btn btn-danger minus\" onClick={decreaseQty}>-</span>\r\n\r\n                                <input type=\"number\" className=\"form-control count d-inline\" value={quantity} readOnly />\r\n\r\n                                <span className=\"btn btn-primary plus\" onClick={increaseQty}>+</span>\r\n                            </div>\r\n                            <button type=\"button\" id=\"cart_btn\" className=\"btn btn-primary d-inline ml-4\" disabled={product.stock === 0} onClick={addToCart}>Thm vo gi hng</button>\r\n\r\n                            <hr />\r\n\r\n                            <p>Tnh trng hng: <span id=\"stock_status\" className={product.stock > 0 ? 'greenColor' : 'redColor'} >{product.stock > 0 ? 'Cn hng' : 'Ht hng'}</span></p>\r\n\r\n                            <hr />\r\n\r\n                            <h4 className=\"mt-2\">M t:</h4>\r\n                            <p>{product.description}</p>\r\n                            <hr />\r\n                            <p id=\"product_seller mb-3\">Xut x: <strong>{product.seller}</strong></p>\r\n\r\n                            {user ? <button id=\"review_btn\" type=\"button\" className=\"btn btn-primary mt-4\" data-toggle=\"modal\" data-target=\"#ratingModal\" onClick={setUserRatings}>\r\n                                Bnh lun sn phm\r\n                            </button>\r\n                                :\r\n                                <div className=\"alert alert-danger mt-5\" type='alert'>Bn cn ng nhp  c th nh gi c sn phm ny.</div>\r\n                            }\r\n\r\n\r\n                            <div className=\"row mt-2 mb-5\">\r\n                                <div className=\"rating w-50\">\r\n\r\n                                    <div className=\"modal fade\" id=\"ratingModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"ratingModalLabel\" aria-hidden=\"true\">\r\n                                        <div className=\"modal-dialog\" role=\"document\">\r\n                                            <div className=\"modal-content\">\r\n                                                <div className=\"modal-header\">\r\n                                                    <h5 className=\"modal-title\" id=\"ratingModalLabel\">nh gi sn phm</h5>\r\n                                                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                                        <span aria-hidden=\"true\">&times;</span>\r\n                                                    </button>\r\n                                                </div>\r\n                                                <div className=\"modal-body\">\r\n\r\n                                                    <ul className=\"stars\" >\r\n                                                        <li className=\"star\"><i className=\"fa fa-star\"></i></li>\r\n                                                        <li className=\"star\"><i className=\"fa fa-star\"></i></li>\r\n                                                        <li className=\"star\"><i className=\"fa fa-star\"></i></li>\r\n                                                        <li className=\"star\"><i className=\"fa fa-star\"></i></li>\r\n                                                        <li className=\"star\"><i className=\"fa fa-star\"></i></li>\r\n                                                    </ul>\r\n\r\n                                                    <textarea\r\n                                                        name=\"review\"\r\n                                                        id=\"review\" className=\"form-control mt-3\"\r\n                                                        value={comment}\r\n                                                        onChange={(e) => setComment(e.target.value)}\r\n                                                    >\r\n\r\n                                                    </textarea>\r\n                                                    {/* <button className=\"btn my-3 float-right px-4 text-white\" onClick={reviewHandler} data-dismiss=\"modal\" aria-label=\"Close\">hi</button> */}\r\n                                                    <button className=\"btn my-3 float-right review-btn px-4 bg-primary\" onClick={reviewHandler} data-dismiss=\"modal\" aria-label=\"Close\">Gi bnh lun</button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className='container'>\r\n                        {product.reviews && product.reviews.length > 0 && (\r\n                            <ListReviews reviews={product.reviews} />\r\n                        )}\r\n                    </div>\r\n\r\n                </Fragment>\r\n            )}\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default ProductDetails\r\n","import React, { Fragment } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport MetaData from '../layout/MetaData'\r\n\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { addItemToCart, removeItemFromCart } from '../../actions/cartActions'\r\n\r\nconst Cart = ({ history }) => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const { cartItems } = useSelector(state => state.cart)\r\n\r\n    const removeCartItemHandler = (id) => {\r\n        dispatch(removeItemFromCart(id))\r\n    }\r\n\r\n    const increaseQty = (id, quantity, stock) => {\r\n        const newQty = quantity + 1;\r\n\r\n        if (newQty > stock) return;\r\n\r\n        dispatch(addItemToCart(id, newQty))\r\n    }\r\n\r\n    const decreaseQty = (id, quantity) => {\r\n\r\n        const newQty = quantity - 1;\r\n\r\n        if (newQty <= 0) return;\r\n\r\n        dispatch(addItemToCart(id, newQty))\r\n\r\n    }\r\n\r\n    const checkoutHandler = () => {\r\n        history.push('/login?redirect=shipping')\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <MetaData title={'Gi hng ca bn'} />\r\n            {cartItems.length === 0 ?\r\n            // cart is empty\r\n                <div className=\"container-fluid mt-100\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-12\">\r\n                            <div className=\"card\">\r\n                                <div className=\"card-header\">\r\n                                    <h5>Gi hng</h5>\r\n                                </div>\r\n                                <div className=\"card-body cart\">\r\n                                    <div className=\"col-sm-12 empty-cart-cls text-center\"> <img src=\"https://cdn-icons-png.flaticon.com/512/2037/2037457.png\" width={130} height={130} className=\"img-fluid mb-4 mr-3\" alt='' />\r\n                                        <h3><strong>Gi hng ca bn trng</strong></h3>\r\n                                        <h4>Hy thm mt ci g   gi hng y p tnh yu thng!</h4> <Link to=\"/\" className=\"btn btn-primary cart-btn-transform m-3\" data-abc=\"true\">Tip tc mua sm</Link>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                : (\r\n                    <Fragment>\r\n                        <h3 className=\"mt-5\">Gi hng ca bn ang c: <b>{cartItems.length} sn phm</b></h3>\r\n\r\n                        <div className=\"row d-flex justify-content-between\">\r\n                            <div className=\"col-12 col-lg-8\">\r\n\r\n                                {cartItems.map(item => (\r\n                                    <Fragment>\r\n                                        <hr />\r\n\r\n                                        <div className=\"cart-item\" key={item.product}>\r\n                                            <div className=\"row\">\r\n                                                <div className=\"col-4 col-lg-3\">\r\n                                                    <img src={item.image} alt=\"Laptop\" height=\"90\" width=\"115\" />\r\n                                                </div>\r\n\r\n                                                <div className=\"col-5 col-lg-3\">\r\n                                                    <Link to={`/product/${item.product}`}>{item.name}</Link>\r\n                                                </div>\r\n\r\n\r\n                                                <div className=\"col-4 col-lg-2 mt-4 mt-lg-0\">\r\n                                                    <p className='text-primary'>{(item.price).toLocaleString()}</p>\r\n                                                </div>\r\n\r\n                                                <div className=\"col-4 col-lg-3 mt-4 mt-lg-0\">\r\n                                                    <div className=\"stockCounter d-inline\">\r\n                                                        <span className=\"btn btn-danger minus\" onClick={() => decreaseQty(item.product, item.quantity)}>-</span>\r\n\r\n                                                        <input type=\"number\" className=\"form-control count d-inline\" value={item.quantity} readOnly />\r\n\r\n                                                        <span className=\"btn btn-primary plus\" onClick={() => increaseQty(item.product, item.quantity, item.stock)}>+</span>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div className=\"col-4 col-lg-1 mt-4 mt-lg-0\">\r\n                                                    <i id=\"delete_cart_item\" className=\"fa fa-trash btn btn-danger\" onClick={() => removeCartItemHandler(item.product)} ></i>\r\n                                                </div>\r\n\r\n                                            </div>\r\n                                        </div>\r\n                                        <hr />\r\n                                    </Fragment>\r\n                                ))}\r\n\r\n                            </div>\r\n\r\n                            <div className=\"col-12 col-lg-4 my-4\">\r\n                                <div id=\"order_summary\">\r\n                                    <h4 className='text-center'>Tng gi tr n hng</h4>\r\n                                    <hr />\r\n                                    <p>S lng:  <span className=\"order-summary-values\">{cartItems.reduce((acc, item) => (acc + Number(item.quantity)), 0)} (Sn phm)</span></p>\r\n                                    <p>Tng tin: <span className=\"order-summary-values\">{(cartItems.reduce((acc, item) => acc + item.quantity * item.price, 0)).toLocaleString()}</span></p>\r\n\r\n                                    <hr />\r\n                                    <button id=\"checkout_btn\" className=\"btn btn-primary btn-block\" onClick={checkoutHandler}>t hng</button> {/* onClick={checkoutHandler} */}\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Fragment>\r\n                )}\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Cart\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst CheckoutSteps = ({ shipping, confirmOrder, payment }) => {\r\n    return (\r\n        <div className=\"checkout-progress d-flex justify-content-center mt-5\">\r\n\r\n            {shipping ? <Link to='/shipping' className=\"float-right\">\r\n                <div className=\"triangle2-active\"></div>\r\n                <div className=\"step active-step\">Vn chuyn</div>\r\n                <div className=\"triangle-active\"></div>\r\n            </Link> : <Link to=\"#!\" disabled>\r\n                <div className=\"triangle2-incomplete\"></div>\r\n                <div className=\"step incomplete\">Vn chuyn</div>\r\n                <div className=\"triangle-incomplete\"></div>\r\n            </Link>}\r\n\r\n            {confirmOrder ? <Link to='/confirm' className=\"float-right\">\r\n                <div className=\"triangle2-active\"></div>\r\n                <div className=\"step active-step\">Xc nhn ha n</div>\r\n                <div className=\"triangle-active\"></div>\r\n            </Link> : <Link to=\"#!\" disabled>\r\n                <div className=\"triangle2-incomplete\"></div>\r\n                <div className=\"step incomplete\">Xc nhn ha n</div>\r\n                <div className=\"triangle-incomplete\"></div>\r\n            </Link>}\r\n\r\n            {payment ? <Link to='/payment' className=\"float-right\">\r\n                <div className=\"triangle2-active\"></div>\r\n                <div className=\"step active-step\">Thanh ton</div>\r\n                <div className=\"triangle-active\"></div>\r\n            </Link> : <Link to=\"#!\" disabled>\r\n                <div className=\"triangle2-incomplete\"></div>\r\n                <div className=\"step incomplete\">Thanh ton</div>\r\n                <div className=\"triangle-incomplete\"></div>\r\n            </Link>}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CheckoutSteps\r\n","import React, { Fragment, useState } from 'react'\r\n// import { countries } from 'countries-list'\r\n\r\nimport MetaData from '../layout/MetaData'\r\nimport CheckoutSteps from './CheckoutSteps'\r\n\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { saveShippingInfo } from '../../actions/cartActions'\r\n\r\nconst Shipping = ({ history }) => {\r\n\r\n    // const countriesList = Object.values(countries)\r\n\r\n    const { shippingInfo } = useSelector(state => state.cart)\r\n\r\n    const [address, setAddress] = useState(shippingInfo.address)\r\n    const [city, setCity] = useState(shippingInfo.city)\r\n    const [postalCode, setPostalCode] = useState(shippingInfo.postalCode)\r\n    const [phoneNo, setPhoneNo] = useState(shippingInfo.phoneNo)\r\n    const [country, setCountry] = useState('Vietnam')\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault()\r\n\r\n        dispatch(saveShippingInfo({ address, city, phoneNo, postalCode, country }))\r\n        history.push('/confirm')\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n\r\n            <MetaData title={'Thng tin vn chuyn'} />\r\n\r\n            <CheckoutSteps shipping />\r\n\r\n            <div className=\"row wrapper\">\r\n                <div className=\"col-10 col-lg-5\">\r\n                    <form className=\"shadow-lg\" onSubmit={submitHandler}>\r\n                        <h1 className=\"mb-4\">Thng tin vn chuyn</h1>\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"address_field\">a ch</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                id=\"address_field\"\r\n                                className=\"form-control\"\r\n                                value={address}\r\n                                onChange={(e) => setAddress(e.target.value)}\r\n                                required\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"city_field\">Thnh ph</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                id=\"city_field\"\r\n                                className=\"form-control\"\r\n                                value={city}\r\n                                onChange={(e) => setCity(e.target.value)}\r\n                                required\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"phone_field\">S in thoi</label>\r\n                            <input\r\n                                type=\"phone\"\r\n                                id=\"phone_field\"\r\n                                className=\"form-control\"\r\n                                value={phoneNo}\r\n                                onChange={(e) => setPhoneNo(e.target.value)}\r\n                                required\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"postal_code_field\">M bu in</label>\r\n                            <input\r\n                                type=\"number\"\r\n                                id=\"postal_code_field\"\r\n                                className=\"form-control\"\r\n                                value={postalCode}\r\n                                onChange={(e) => setPostalCode(e.target.value)}\r\n                                required\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"country_field\">Quc gia</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                id=\"country_field\"\r\n                                className=\"form-control\"\r\n                                value={country}\r\n                                onChange={(e) => setCountry(e.target.value)}\r\n                                required\r\n                                disabled \r\n                            />\r\n                        </div>\r\n \r\n\r\n                        <button\r\n                            id=\"shipping_btn\"\r\n                            type=\"submit\"\r\n                            className=\"btn btn-block py-3\"\r\n                        >\r\n                            TIP TC\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Shipping\r\n","import React, { Fragment } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport MetaData from '../layout/MetaData'\r\nimport CheckoutSteps from './CheckoutSteps'\r\n\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst ConfirmOrder = ({ history }) => {\r\n\r\n    const { cartItems, shippingInfo } = useSelector(state => state.cart)\r\n    const { user } = useSelector(state => state.auth)\r\n\r\n    // Calculate Order Prices\r\n    const itemsPrice = cartItems.reduce((acc, item) => acc + item.price * item.quantity, 0) // ging ging nh for, foreach\r\n    const shippingPrice = itemsPrice > 100000 ? 0 : 10000 // tnh tin ship\r\n    const taxPrice = Number((0.01 * itemsPrice)) // tnh thu\r\n    const totalPrice = (itemsPrice + shippingPrice + taxPrice) // tng tin\r\n\r\n    const processToPayment = () => {\r\n        const data = {\r\n            itemsPrice: itemsPrice,\r\n            shippingPrice,\r\n            taxPrice,\r\n            totalPrice\r\n        }\r\n\r\n        sessionStorage.setItem('orderInfo', JSON.stringify(data)) // push session order Info\r\n        history.push('/payment')\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n\r\n            <MetaData title={'Xc nhn ha n'} />\r\n\r\n            <CheckoutSteps shipping confirmOrder />\r\n\r\n            <div className=\"row d-flex justify-content-between\">\r\n                <div className=\"col-12 col-lg-8 mt-5 order-confirm\">\r\n\r\n                    <h4 className=\"mb-3\">Thng tin vn chuyn</h4>\r\n                    <p><b>Tn khch hng:</b> {user && user.name}</p>\r\n                    <p><b>S in thoi:</b> {shippingInfo.phoneNo}</p>\r\n                    <p className=\"mb-4\"><b>a ch:</b> {`${shippingInfo.address}, ${shippingInfo.city}, ${shippingInfo.postalCode}, ${shippingInfo.country}`}</p>\r\n\r\n                    <hr />\r\n                    <h4 className=\"mt-4\">Cc mt hng trong gi hng ca bn:</h4>\r\n\r\n                    {cartItems.map(item => (\r\n                        <Fragment>\r\n                            <hr />\r\n                            <div className=\"cart-item my-1\" key={item.product}>\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-4 col-lg-2\">\r\n                                        <img src={item.image} alt=\"Laptop\" height=\"45\" width=\"65\" />\r\n                                    </div>\r\n\r\n                                    <div className=\"col-5 col-lg-6\">\r\n                                        <Link to={`/product/${item.product}`}>{item.name}</Link>\r\n                                    </div>\r\n\r\n                                    <div className=\"col-4 col-lg-4 mt-4 mt-lg-0\">\r\n                                        <p>{item.quantity} x {(item.price).toLocaleString()} = <b>{(item.quantity * item.price).toLocaleString()}</b></p>\r\n                                    </div>\r\n\r\n                                </div>\r\n                            </div>\r\n                            <hr />\r\n                        </Fragment>\r\n                    ))}\r\n\r\n\r\n\r\n                </div>\r\n\r\n                <div className=\"col-12 col-lg-3 my-4\">\r\n                    <div id=\"order_summary\">\r\n                        <h4>Tng gi tr n hng</h4>\r\n                        <hr />\r\n                        <p>Thnh tin:  <span className=\"order-summary-values\">{(itemsPrice).toLocaleString()}</span></p>\r\n                        <p>Ph vn chuyn: <span className=\"order-summary-values\">{(shippingPrice).toLocaleString()}</span></p>\r\n                        <p>Thu:  <span className=\"order-summary-values\">{(taxPrice).toLocaleString()}</span></p>\r\n\r\n                        <hr />\r\n\r\n                        <p>Tng tin: <span className=\"order-summary-values\">{(totalPrice).toLocaleString()}</span></p>\r\n\r\n                        <hr />\r\n                        <button id=\"checkout_btn\" className=\"btn btn-primary btn-block\" onClick={processToPayment}>Tin hnh thanh ton</button>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n            </div>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default ConfirmOrder\r\n","export const CREATE_ORDER_REQUEST = 'CREATE_ORDER_REQUEST'\r\nexport const CREATE_ORDER_SUCCESS = 'CREATE_ORDER_SUCCESS'\r\nexport const CREATE_ORDER_FAIL = 'CREATE_ORDER_FAIL'\r\n\r\nexport const MY_ORDERS_REQUEST = 'MY_ORDERS_REQUEST'\r\nexport const MY_ORDERS_SUCCESS = 'MY_ORDERS_SUCCESS'\r\nexport const MY_ORDERS_FAIL = 'MY_ORDERS_FAIL'\r\n\r\nexport const ALL_ORDERS_REQUEST = 'ALL_ORDERS_REQUEST'\r\nexport const ALL_ORDERS_SUCCESS = 'ALL_ORDERS_SUCCESS'\r\nexport const ALL_ORDERS_FAIL = 'ALL_ORDERS_FAIL'\r\n\r\nexport const UPDATE_ORDER_REQUEST = 'UPDATE_ORDER_REQUEST'\r\nexport const UPDATE_ORDER_SUCCESS = 'UPDATE_ORDER_SUCCESS'\r\nexport const UPDATE_ORDER_RESET = 'UPDATE_ORDER_RESET'\r\nexport const UPDATE_ORDER_FAIL = 'UPDATE_ORDER_FAIL'\r\n\r\nexport const DELETE_ORDER_REQUEST = 'DELETE_ORDER_REQUEST'\r\nexport const DELETE_ORDER_SUCCESS = 'DELETE_ORDER_SUCCESS'\r\nexport const DELETE_ORDER_RESET = 'DELETE_ORDER_RESET'\r\nexport const DELETE_ORDER_FAIL = 'DELETE_ORDER_FAIL'\r\n\r\nexport const ORDER_DETAILS_REQUEST = 'ORDER_DETAILS_REQUEST'\r\nexport const ORDER_DETAILS_SUCCESS = 'ORDER_DETAILS_SUCCESS'\r\nexport const ORDER_DETAILS_FAIL = 'ORDER_DETAILS_FAIL'\r\n\r\nexport const CLEAR_ERRORS = 'CLEAR_ERRORS'","import axios from 'axios'\r\n\r\nimport {\r\n    CREATE_ORDER_REQUEST,\r\n    CREATE_ORDER_SUCCESS,\r\n    CREATE_ORDER_FAIL,\r\n    MY_ORDERS_REQUEST,\r\n    MY_ORDERS_SUCCESS,\r\n    MY_ORDERS_FAIL,\r\n    ALL_ORDERS_REQUEST,\r\n    ALL_ORDERS_SUCCESS,\r\n    ALL_ORDERS_FAIL,\r\n    UPDATE_ORDER_SUCCESS,\r\n    UPDATE_ORDER_REQUEST,\r\n    UPDATE_ORDER_FAIL,\r\n    ORDER_DETAILS_REQUEST,\r\n    ORDER_DETAILS_SUCCESS,\r\n    ORDER_DETAILS_FAIL,\r\n    CLEAR_ERRORS\r\n} from '../constants/orderConstants'\r\n\r\nexport const createOrder = (order) => async (dispatch, getState) => {\r\n    try {\r\n\r\n        dispatch({ type: CREATE_ORDER_REQUEST })\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.post('/api/v1/order/new', order, config)\r\n\r\n        dispatch({\r\n            type: CREATE_ORDER_SUCCESS,\r\n            payload: data\r\n        })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: CREATE_ORDER_FAIL,\r\n            payload: error.response.data.message\r\n        })\r\n    }\r\n}\r\n\r\n// Get curretly logged in user orders\r\nexport const myOrders = () => async (dispatch) => {\r\n    try {\r\n\r\n        dispatch({ type: MY_ORDERS_REQUEST });\r\n\r\n        const { data } = await axios.get('/api/v1/orders/me')\r\n\r\n        dispatch({\r\n            type: MY_ORDERS_SUCCESS,\r\n            payload: data.orders\r\n        })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: MY_ORDERS_FAIL,\r\n            payload: error.response.data.message\r\n        })\r\n    }\r\n}\r\n\r\n// Get order details\r\nexport const getOrderDetails = (id) => async (dispatch) => {\r\n    try {\r\n\r\n        dispatch({ type: ORDER_DETAILS_REQUEST });\r\n\r\n        const { data } = await axios.get(`/api/v1/order/${id}`)\r\n\r\n        dispatch({\r\n            type: ORDER_DETAILS_SUCCESS,\r\n            payload: data.order\r\n        })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: ORDER_DETAILS_FAIL,\r\n            payload: error.response.data.message\r\n        })\r\n    }\r\n}\r\n\r\n// Get all orders - ADMIN\r\nexport const allOrders = () => async (dispatch) => {\r\n    try {\r\n\r\n        dispatch({ type: ALL_ORDERS_REQUEST });\r\n\r\n        const { data } = await axios.get(`/api/v1/admin/orders`)\r\n\r\n        dispatch({\r\n            type: ALL_ORDERS_SUCCESS,\r\n            payload: data\r\n        })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: ALL_ORDERS_FAIL,\r\n            payload: error.response.data.message\r\n        })\r\n    }\r\n}\r\n\r\n// update order\r\nexport const updateOrder = (id, orderData) => async (dispatch) => {\r\n    try {\r\n\r\n        dispatch({ type: UPDATE_ORDER_REQUEST })\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.put(`/api/v1/admin/order/${id}`, orderData, config)\r\n\r\n        dispatch({\r\n            type: UPDATE_ORDER_SUCCESS,\r\n            payload: data.success\r\n        })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: UPDATE_ORDER_FAIL,\r\n            payload: error.response.data.message\r\n        })\r\n    }\r\n}\r\n\r\n\r\n\r\n// Clear Errors\r\nexport const clearErrors = () => async (dispatch) => {\r\n    dispatch({\r\n        type: CLEAR_ERRORS\r\n    })\r\n}","import React, { Fragment, useEffect } from 'react'\r\n\r\nimport MetaData from '../layout/MetaData'\r\nimport CheckoutSteps from './CheckoutSteps'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { createOrder, clearErrors } from '../../actions/orderActions'\r\n\r\nimport { useStripe, useElements, CardNumberElement, CardExpiryElement, CardCvcElement } from '@stripe/react-stripe-js'\r\n\r\nimport axios from 'axios'\r\n\r\nconst options = {\r\n    style: {\r\n        base: {\r\n            fontSize: '16px'\r\n        },\r\n        invalid: {\r\n            color: '#9e2146'\r\n        }\r\n    }\r\n}\r\n\r\nconst Payment = ({ history }) => {\r\n\r\n    const alert = useAlert();\r\n    const stripe = useStripe();\r\n    const elements = useElements();\r\n    const dispatch = useDispatch();\r\n\r\n    const { user } = useSelector(state => state.auth)\r\n    const { cartItems, shippingInfo } = useSelector(state => state.cart);\r\n    const { error } = useSelector(state => state.newOrder)\r\n\r\n    useEffect(() => {\r\n\r\n        if (error) {\r\n            alert.error(error)\r\n            dispatch(clearErrors())\r\n        }\r\n\r\n    }, [dispatch, alert, error])\r\n\r\n    // cart, ship info\r\n    const order = {\r\n        orderItems: cartItems,\r\n        shippingInfo\r\n    }\r\n\r\n    const orderInfo = JSON.parse(sessionStorage.getItem('orderInfo'));\r\n    if (orderInfo) {\r\n        order.itemsPrice = orderInfo.itemsPrice\r\n        order.shippingPrice = orderInfo.shippingPrice\r\n        order.taxPrice = orderInfo.taxPrice\r\n        order.totalPrice = orderInfo.totalPrice\r\n    }\r\n\r\n    const paymentData = {\r\n        amount: Math.round(orderInfo.totalPrice * 100)  // total price\r\n    }\r\n\r\n    const submitHandler = async (e) => {\r\n        e.preventDefault();\r\n\r\n        document.querySelector('#pay_btn').disabled = true; // tm kim cc phn t da trn id\r\n\r\n        let res;\r\n        try {\r\n\r\n            const config = { // config header type\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            }\r\n\r\n            res = await axios.post('/api/v1/payment/process', paymentData, config) // call api paymant process\r\n\r\n            const clientSecret = res.data.client_secret; // client_secret json client\r\n\r\n            console.log(clientSecret);\r\n\r\n            if (!stripe || !elements) { // data input payment stripe\r\n                return;\r\n            }\r\n\r\n            const result = await stripe.confirmCardPayment(clientSecret, { // Xc thc card info\r\n                payment_method: {\r\n                    card: elements.getElement(CardNumberElement),\r\n                    billing_details: { // chi tit thanh ton\r\n                        name: user.name,\r\n                        email: user.email\r\n                    }\r\n                }\r\n            });\r\n\r\n            if (result.error) {\r\n                alert.error(result.error.message); // return alert error\r\n                document.querySelector('#pay_btn').disabled = false; // disabled btn\r\n            } else {\r\n\r\n                // Thanh ton c c x l hay khng?\r\n                if (result.paymentIntent.status === 'succeeded') { // if success\r\n\r\n                    order.paymentInfo = {  // payment with info cart, shipInfo\r\n                        id: result.paymentIntent.id,\r\n                        status: result.paymentIntent.status\r\n                    }\r\n\r\n                    dispatch(createOrder(order)) // call createOrder action\r\n\r\n                    history.push('/success') // return page success\r\n                } else {\r\n                    alert.error('C mt s vn  trong khi x l thanh ton')\r\n                }\r\n            }\r\n\r\n\r\n        } catch (error) { // error server\r\n            document.querySelector('#pay_btn').disabled = false;\r\n            alert.error(error.response.data.message)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <MetaData title={'Thng tin th'} />\r\n\r\n            <CheckoutSteps shipping confirmOrder payment />\r\n\r\n            <div className=\"row wrapper\">\r\n                <div className=\"col-10 col-lg-5\">\r\n                    <form className=\"shadow-lg\" onSubmit={submitHandler}>\r\n                        <h1 className=\"mb-4\">Thng tin th</h1>\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"card_num_field\">S th</label>\r\n                            <CardNumberElement\r\n                                type=\"text\"\r\n                                id=\"card_num_field\"\r\n                                className=\"form-control\"\r\n                                options={options}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"card_exp_field\">Hn th</label>\r\n                            <CardExpiryElement\r\n                                type=\"text\"\r\n                                id=\"card_exp_field\"\r\n                                className=\"form-control\"\r\n                                options={options}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"card_cvc_field\">S CVC</label>\r\n                            <CardCvcElement\r\n                                type=\"text\"\r\n                                id=\"card_cvc_field\"\r\n                                className=\"form-control\"\r\n                                options={options}\r\n                            />\r\n                        </div>\r\n\r\n\r\n                        <button\r\n                            id=\"pay_btn\"\r\n                            type=\"submit\"\r\n                            className=\"btn btn-block py-3\"\r\n                        >\r\n                            Thanh ton {` - ${(orderInfo && orderInfo.totalPrice).toLocaleString()}`}\r\n\r\n                        </button>\r\n\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Payment\r\n","import React, { Fragment } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport MetaData from '../layout/MetaData'\r\n\r\nconst OrderSuccess = () => {\r\n    localStorage.removeItem(\"cartItems\");\r\n    setTimeout(function() {\r\n        window.location='/orders/me'\r\n    }, 5000);\r\n    \r\n    return (\r\n        <Fragment>\r\n\r\n            <MetaData title={'Hon tt t hng'} />\r\n\r\n            <div className=\"row justify-content-center\">\r\n                <div className=\"col-6 mt-5 text-center\">\r\n                    <img className=\"my-5 img-fluid d-block mx-auto\" src=\"/images/order_success.png\" alt=\"Order Success\" width=\"200\" height=\"200\" />\r\n\r\n                    <h2>n hng ca bn  c t thnh cng!</h2>\r\n\r\n                    <Link to=\"/orders/me\">T ng chuyn hng ti ha n sau 5 giy ...</Link>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default OrderSuccess\r\n","import React, { Fragment, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { MDBDataTableV5 } from 'mdbreact'\r\n\r\nimport MetaData from '../layout/MetaData'\r\nimport Loader from '../layout/Loader'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { myOrders, clearErrors } from '../../actions/orderActions'\r\n\r\nconst ListOrders = () => {\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { loading, error, orders } = useSelector(state => state.myOrders);\r\n\r\n    useEffect(() => {\r\n        dispatch(myOrders());\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors())\r\n        }\r\n    }, [dispatch, alert, error])\r\n\r\n    const setOrders = () => {\r\n        const data = {\r\n            columns: [\r\n                {\r\n                    label: 'ID',\r\n                    field: 'id',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'S lng',\r\n                    field: 'numOfItems',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Tng tin',\r\n                    field: 'amount',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Trng thi',\r\n                    field: 'status',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Hnh ng',\r\n                    field: 'actions',\r\n                    sort: 'asc'\r\n                },\r\n            ],\r\n            rows: []\r\n        }\r\n\r\n        orders.forEach(order => {\r\n            data.rows.push({\r\n                id: order._id,\r\n                numOfItems: order.orderItems.length,\r\n                amount: `${(order.totalPrice).toLocaleString()}`,\r\n                status: order.orderStatus && String(order.orderStatus).includes(' giao hng')\r\n                    ? <p style={{ color: 'green' }}>{order.orderStatus}</p>\r\n                    : <p style={{ color: 'red' }}>{order.orderStatus}</p>,\r\n                actions:\r\n                    <Link to={`/order/${order._id}`} className=\"btn btn-primary\">\r\n                        <i className=\"fa fa-eye\"></i>\r\n                    </Link>\r\n            })\r\n        })\r\n\r\n        return data;\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n\r\n            <MetaData title={'n hng ca ti'} />\r\n\r\n            <h1 className=\"my-5\">n hng ca ti</h1>\r\n\r\n            {loading ? <Loader /> : (\r\n                <MDBDataTableV5\r\n                    data={setOrders()}\r\n                    className=\"px-3\"\r\n                    bordered\r\n                    striped\r\n                    hover\r\n                />\r\n            )}\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default ListOrders\r\n","import React, { Fragment, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport MetaData from '../layout/MetaData'\r\nimport Loader from '../layout/Loader'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getOrderDetails, clearErrors } from '../../actions/orderActions'\r\n\r\nconst OrderDetails = ({ match }) => {\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { loading, error, order = {} } = useSelector(state => state.orderDetails)\r\n    const { shippingInfo, orderItems, paymentInfo, user, totalPrice, orderStatus } = order\r\n\r\n    useEffect(() => {\r\n        dispatch(getOrderDetails(match.params.id));\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors())\r\n        }\r\n    }, [dispatch, alert, error, match.params.id])\r\n\r\n    const shippingDetails = shippingInfo && `${shippingInfo.address}, ${shippingInfo.city}, ${shippingInfo.postalCode}, ${shippingInfo.country}`\r\n\r\n    const isPaid = paymentInfo && paymentInfo.status === 'succeeded' ? true : false\r\n\r\n    return (\r\n        <Fragment>\r\n            <MetaData title={'Danh sch n hng'} />\r\n\r\n            {loading ? <Loader /> : (\r\n                <Fragment>\r\n                    <div className=\"row d-flex justify-content-between\">\r\n                        <div className=\"col-12 col-lg-8 mt-5 order-details\">\r\n\r\n                            <h1 className=\"my-5\">M n: {order._id}</h1>\r\n\r\n                            <h4 className=\"mb-4\">Thng tin t hng</h4>\r\n                            <p><b>Tn ngi nhn:</b> {user && user.name}</p>\r\n                            <p><b>S in thoi:</b> {shippingInfo && shippingInfo.phoneNo}</p>\r\n                            <p className=\"mb-4\"><b>a ch giao:</b>{shippingDetails}</p>\r\n                            <p><b>Tng tin:</b> {totalPrice}</p>\r\n\r\n                            <hr />\r\n\r\n                            <h4 className=\"my-4\">Thanh ton</h4>\r\n                            <p className={isPaid ? \"greenColor\" : \"redColor\"}><b>{isPaid ? \" thanh ton\" : \"Cha thanh ton\"}</b></p>\r\n\r\n\r\n                            <h4 className=\"my-4\">Tnh trng t hng:</h4>\r\n                            <p className={order.orderStatus && String(order.orderStatus).includes(' giao hng') ? \"greenColor\" : \"redColor\"} ><b>{orderStatus}</b></p>\r\n\r\n\r\n                            <h4 className=\"my-4\">Sn phm:</h4>\r\n\r\n                            <hr />\r\n                            <div className=\"cart-item my-1\">\r\n                                {orderItems && orderItems.map(item => (\r\n                                    <div key={item.product} className=\"row my-5\">\r\n                                        <div className=\"col-4 col-lg-2\">\r\n                                            <img src={item.image} alt={item.name} height=\"45\" width=\"65\" />\r\n                                        </div>\r\n\r\n                                        <div className=\"col-5 col-lg-5\">\r\n                                            <Link to={`/products/${item.product}`}>{item.name}</Link>\r\n                                        </div>\r\n\r\n\r\n                                        <div className=\"col-4 col-lg-2 mt-4 mt-lg-0\">\r\n                                            <p>{(item.price).toLocaleString()}</p>\r\n                                        </div>\r\n\r\n                                        <div className=\"col-4 col-lg-3 mt-4 mt-lg-0\">\r\n                                            <p>{item.quantity} Sn phm</p>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                            <hr />\r\n                        </div>\r\n                    </div>\r\n                </Fragment>\r\n            )}\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default OrderDetails\r\n","import React, { Fragment, useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport Loader from '../layout/Loader'\r\nimport MetaData from '../layout/MetaData'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { login, clearErrors } from '../../actions/userActions'\r\n\r\nconst Login = ({ history, location }) => {\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { isAuthenticated, error, loading } = useSelector(state => state.auth);\r\n\r\n    const redirect = location.search ? location.search.split('=')[1] : '/'\r\n\r\n    useEffect(() => {\r\n\r\n        if (isAuthenticated) {\r\n            history.push(redirect)\r\n        }\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors());\r\n        }\r\n\r\n    }, [dispatch, alert, isAuthenticated, error, history, redirect])\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        dispatch(login(email, password))\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            {loading ? <Loader /> : (\r\n                <Fragment>\r\n                    <MetaData title={'Login'} />\r\n\r\n                    <div className=\"row wrapper\">\r\n                        <div className=\"col-10 col-lg-5\">\r\n                            <form className=\"shadow-lg\" onSubmit={submitHandler}>\r\n                                <h1 className=\"mb-3\">ng Nhp</h1>\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"email_field\">Email</label>\r\n                                    <input\r\n                                        type=\"email\"\r\n                                        id=\"email_field\"\r\n                                        className=\"form-control\"\r\n                                        value={email}\r\n                                        onChange={(e) => setEmail(e.target.value)}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"password_field\">Mt khu</label>\r\n                                    <input\r\n                                        type=\"password\"\r\n                                        id=\"password_field\"\r\n                                        className=\"form-control\"\r\n                                        value={password}\r\n                                        onChange={(e) => setPassword(e.target.value)}\r\n                                    />\r\n                                </div>\r\n\r\n                                <button\r\n                                    id=\"login_button\"\r\n                                    type=\"submit\"\r\n                                    className=\"btn btn-block py-3\"\r\n                                >\r\n                                    NG NHP\r\n                                </button>\r\n\r\n                                <Link to=\"/register\" className=\"float-right mt-3\">Bn cha c ti khon?</Link>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                </Fragment>\r\n            )}\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React, { Fragment, useState, useEffect } from 'react'\r\n\r\nimport MetaData from '../layout/MetaData'\r\nimport Loader from '../layout/Loader'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { register, clearErrors } from '../../actions/userActions'\r\n\r\nconst Register = ({ history }) => {\r\n\r\n    const [user, setUser] = useState({\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n    })\r\n\r\n    const { name, email, password } = user;\r\n\r\n    const [avatar, setAvatar] = useState('')\r\n    const [avatarPreview, setAvatarPreview] = useState('/images/default_avatar.jpg')\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { isAuthenticated, error, loading } = useSelector(state => state.auth);\r\n\r\n    useEffect(() => {\r\n\r\n        if (isAuthenticated) {\r\n            history.push('/')\r\n        }\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors());\r\n        }\r\n\r\n    }, [dispatch, alert, isAuthenticated, error, history])\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n\r\n        const formData = new FormData();\r\n        formData.set('name', name);\r\n        formData.set('email', email);\r\n        formData.set('password', password);\r\n        formData.set('avatar', avatar);\r\n\r\n        dispatch(register(formData))\r\n    }\r\n\r\n    const onChange = e => {\r\n        if (e.target.name === 'avatar') {\r\n\r\n            const reader = new FileReader();\r\n\r\n            reader.onload = () => {\r\n                if (reader.readyState === 2) {\r\n                    setAvatarPreview(reader.result)\r\n                    setAvatar(reader.result)\r\n                }\r\n            }\r\n\r\n            reader.readAsDataURL(e.target.files[0])\r\n\r\n        } else {\r\n            setUser({ ...user, [e.target.name]: e.target.value })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n\r\n            <MetaData title={'ng k'} />\r\n\r\n            <div className=\"row wrapper\">\r\n                <div className=\"col-10 col-lg-5\">\r\n                    <form className=\"shadow-lg\" onSubmit={submitHandler} encType='multipart/form-data'>\r\n                        <h1 className=\"mb-3\">ng k</h1>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"email_field\">Tn</label>\r\n                            <input\r\n                                type=\"name\"\r\n                                id=\"name_field\"\r\n                                className=\"form-control\"\r\n                                name='name'\r\n                                value={name}\r\n                                onChange={onChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"email_field\">Email</label>\r\n                            <input\r\n                                type=\"email\"\r\n                                id=\"email_field\"\r\n                                className=\"form-control\"\r\n                                name='email'\r\n                                value={email}\r\n                                onChange={onChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"password_field\">Mt khu</label>\r\n                            <input\r\n                                type=\"password\"\r\n                                id=\"password_field\"\r\n                                className=\"form-control\"\r\n                                name='password'\r\n                                value={password}\r\n                                onChange={onChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className='form-group'>\r\n                            <label htmlFor='avatar_upload'>Hnh nn</label>\r\n                            <div className='d-flex align-items-center'>\r\n                                <div>\r\n                                    <figure className='avatar mr-3 item-rtl'>\r\n                                        <img\r\n                                            src={avatarPreview}\r\n                                            className='rounded-circle'\r\n                                            alt='nh nn'\r\n                                        />\r\n                                    </figure>\r\n                                </div>\r\n                                <div className='custom-file'>\r\n                                    <input\r\n                                        type='file'\r\n                                        name='avatar'\r\n                                        className='custom-file-input'\r\n                                        id='customFile'\r\n                                        accept=\"iamges/*\"\r\n                                        onChange={onChange}\r\n                                    />\r\n                                    <label className='custom-file-label' htmlFor='customFile'>\r\n                                        Chn nh\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        {loading ? <Loader /> : (\r\n                            <button\r\n                                id=\"register_button\"\r\n                                type=\"submit\"\r\n                                className=\"btn btn-block py-3\"\r\n                                disabled={loading ? true : false}\r\n                            >\r\n                                NG K\r\n                            </button>\r\n                        )}\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Register\r\n","import  { Fragment } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\nimport DefaultAvatar from \"..//default_avatar.jpg\";\r\nimport Loader from '../layout/Loader'\r\nimport MetaData from '../layout/MetaData'\r\n\r\nconst Profile = () => {\r\n\r\n    const { user, loading } = useSelector(state => state.auth)\r\n\r\n    return (\r\n        <Fragment>\r\n            {loading ? <Loader /> : (\r\n                <Fragment>\r\n                    <MetaData title={'Thng tin c nhn'} />\r\n\r\n                    <h2 className=\"mt-5 ml-5\">Thng tin c nhn</h2>\r\n                    <div className=\"row justify-content-around mt-5 user-info\">\r\n                        <div className=\"col-12 col-md-3\">\r\n                            <figure className='avatar avatar-profile'>\r\n                                <img className=\"rounded-circle img-fluid\" src={user?.avatar?.url || DefaultAvatar} alt={user.name} />\r\n                            </figure>\r\n                            <Link to=\"/me/update\" id=\"edit_profile\" className=\"btn btn-primary btn-block my-5\">\r\n                                Sa thng tin\r\n                            </Link>\r\n                        </div>\r\n\r\n                        <div className=\"col-12 col-md-5\">\r\n                            <h4>H v Tn</h4>\r\n                            <p>{user.name}</p>\r\n\r\n                            <h4>Email</h4>\r\n                            <p>{user.email}</p>\r\n\r\n                            <h4>Ngy tham gia</h4>\r\n                            <p>{String(user.createdAt).substring(0, 10)}</p>\r\n\r\n                            {user.role !== 'admin' && (\r\n                                <Link to=\"/orders/me\" className=\"btn btn-danger btn-block mt-5\">\r\n                                    n hng\r\n                                </Link>\r\n                            )}\r\n\r\n                            <Link to=\"/password/update\" className=\"btn btn-primary btn-block mt-3\">\r\n                                Thay i mt khu\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                </Fragment>\r\n            )}\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Profile\r\n","import React, { Fragment, useState, useEffect } from 'react'\r\n\r\nimport MetaData from '../layout/MetaData'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { updateProfile, loadUser, clearErrors } from '../../actions/userActions'\r\nimport { UPDATE_PROFILE_RESET } from '../../constants/userConstants'\r\n\r\nconst UpdateProfile = ({ history }) => {\r\n\r\n    const [name, setName] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [avatar, setAvatar] = useState('')\r\n    const [avatarPreview, setAvatarPreview] = useState('/images/default_avatar.jpg')\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { user } = useSelector(state => state.auth);\r\n    const { error, isUpdated, loading } = useSelector(state => state.user)\r\n\r\n    useEffect(() => {\r\n\r\n        if (user) {\r\n            setName(user.name);\r\n            setEmail(user.email);\r\n            setAvatarPreview(user.avatar.url)\r\n        }\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors());\r\n        }\r\n\r\n        if (isUpdated) {\r\n            alert.success('Cp nht thnh cng')\r\n            dispatch(loadUser());\r\n\r\n            history.push('/me')\r\n\r\n            dispatch({\r\n                type: UPDATE_PROFILE_RESET\r\n            })\r\n        }\r\n\r\n    }, [dispatch, alert, error, history, isUpdated, user])\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n\r\n        const formData = new FormData();\r\n        formData.set('name', name);\r\n        formData.set('email', email);\r\n        formData.set('avatar', avatar);\r\n\r\n        dispatch(updateProfile(formData))\r\n    }\r\n\r\n    const onChange = e => {\r\n        const reader = new FileReader();\r\n\r\n        reader.onload = () => {\r\n            if (reader.readyState === 2) {\r\n                setAvatarPreview(reader.result)\r\n                setAvatar(reader.result)\r\n            }\r\n        }\r\n\r\n        reader.readAsDataURL(e.target.files[0])\r\n\r\n    }\r\n    return (\r\n        <Fragment>\r\n            <MetaData title={'Sa thng tin c nhn'} />\r\n\r\n            <div className=\"row wrapper\">\r\n                <div className=\"col-10 col-lg-5\">\r\n                    <form className=\"shadow-lg\" onSubmit={submitHandler} encType='multipart/form-data'>\r\n                        <h1 className=\"mt-2 mb-5\">Sa thng tin c nhn</h1>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"email_field\">Tn</label>\r\n                            <input\r\n                                type=\"name\"\r\n                                id=\"name_field\"\r\n                                className=\"form-control\"\r\n                                name='name'\r\n                                value={name}\r\n                                onChange={(e) => setName(e.target.value)}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"email_field\">Email</label>\r\n                            <input\r\n                                type=\"email\"\r\n                                id=\"email_field\"\r\n                                className=\"form-control\"\r\n                                name='email'\r\n                                value={email}\r\n                                onChange={(e) => setEmail(e.target.value)}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className='form-group'>\r\n                            <label htmlFor='avatar_upload'>nh i din</label>\r\n                            <div className='d-flex align-items-center'>\r\n                                <div>\r\n                                    <figure className='avatar mr-3 item-rtl'>\r\n                                        <img\r\n                                            src={avatarPreview}\r\n                                            className='rounded-circle'\r\n                                            alt='Avatar Preview'\r\n                                        />\r\n                                    </figure>\r\n                                </div>\r\n                                <div className='custom-file'>\r\n                                    <input\r\n                                        type='file'\r\n                                        name='avatar'\r\n                                        className='custom-file-input'\r\n                                        id='customFile'\r\n                                        accept='image/*'\r\n                                        onChange={onChange}\r\n                                    />\r\n                                    <label className='custom-file-label' htmlFor='customFile'>\r\n                                        Chn nh\r\n                                </label>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <button type=\"submit\" className=\"btn update-btn btn-block mt-4 mb-3\" disabled={loading ? true : false} >Xc nhn</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default UpdateProfile\r\n","import React, { Fragment, useState, useEffect } from 'react'\r\n\r\nimport MetaData from '../layout/MetaData'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { updatePassword, clearErrors } from '../../actions/userActions'\r\nimport { UPDATE_PASSWORD_RESET } from '../../constants/userConstants'\r\n\r\nconst UpdatePassword = ({ history }) => {\r\n\r\n    const [oldPassword, setOldPassword] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { error, isUpdated, loading } = useSelector(state => state.user)\r\n\r\n    useEffect(() => {\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors());\r\n        }\r\n\r\n        if (isUpdated) {\r\n            alert.success('Cp nht mt khu thnh cng')\r\n\r\n            history.push('/me')\r\n\r\n            dispatch({\r\n                type: UPDATE_PASSWORD_RESET\r\n            })\r\n        }\r\n\r\n    }, [dispatch, alert, error, history, isUpdated])\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n\r\n        const formData = new FormData();\r\n        formData.set('oldPassword', oldPassword);\r\n        formData.set('password', password);\r\n\r\n        dispatch(updatePassword(formData))\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <MetaData title={'Change Password'} />\r\n\r\n            <div className=\"row wrapper\">\r\n                <div className=\"col-10 col-lg-5\">\r\n                    <form className=\"shadow-lg\" onSubmit={submitHandler}>\r\n                        <h1 className=\"mt-2 mb-5\">Thay i mt khu</h1>\r\n                        <div className=\"form-group\">\r\n                            <label for=\"old_password_field\">Mt khu c:</label>\r\n                            <input\r\n                                type=\"password\"\r\n                                id=\"old_password_field\"\r\n                                className=\"form-control\"\r\n                                value={oldPassword}\r\n                                onChange={(e) => setOldPassword(e.target.value)}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label for=\"new_password_field\">Mt khu mi:</label>\r\n                            <input\r\n                                type=\"password\"\r\n                                id=\"new_password_field\"\r\n                                className=\"form-control\"\r\n                                value={password}\r\n                                onChange={(e) => setPassword(e.target.value)}\r\n                            />\r\n                        </div>\r\n\r\n                        <button type=\"submit\" className=\"btn update-btn btn-block mt-4 mb-3\" disabled={loading ? true : false} >Xc nhn</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default UpdatePassword\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Sidebar = () => {\r\n    return (\r\n        <div className=\"sidebar-wrapper\">\r\n            <nav id=\"sidebar\">\r\n                <ul className=\"list-unstyled components\">\r\n                    <li>\r\n                        <Link to=\"/dashboard\"><i className=\"fa fa-tachometer\"></i> Tng quan</Link>\r\n                    </li>\r\n                    <li>\r\n                        <Link to=\"/admin/products\"><i\r\n                            className=\"fa fa-product-hunt\"></i> Qun l sn phm</Link>\r\n                    </li>\r\n\r\n                    <li>\r\n                        <Link to=\"/admin/orders\"><i className=\"fa fa-shopping-basket\"></i> Qun l n hng</Link>\r\n                    </li>\r\n\r\n                    <li>\r\n                        <Link to=\"/admin/users\"><i className=\"fa fa-users\"></i> Qun l ngi dng</Link>\r\n                    </li>\r\n\r\n                    <li>\r\n                        <Link to=\"/admin/reviews\"><i className=\"fa fa-star\"></i> Qun l bnh lun</Link>\r\n                    </li>\r\n\r\n                </ul>\r\n            </nav>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sidebar\r\n","import React, { Fragment, useState, useEffect } from 'react'\r\n\r\nimport MetaData from '../layout/MetaData'\r\nimport Sidebar from './Sidebar'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { updateUser, getUserDetails, clearErrors } from '../../actions/userActions'\r\nimport { UPDATE_USER_RESET } from '../../constants/userConstants'\r\n\r\nconst LookAccount = ({ history, match }) => {\r\n\r\n    const [name, setName] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [role, setRole1] = useState('')\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { error, isUpdated } = useSelector(state => state.user);\r\n    const { user } = useSelector(state => state.userDetails)\r\n\r\n    const userId = match.params.id;\r\n\r\n    useEffect(() => {\r\n\r\n        console.log(user && user._id !== userId);\r\n        if (user && user._id !== userId) {\r\n            dispatch(getUserDetails(userId))\r\n        } else {\r\n            setName(user.name);\r\n            setEmail(user.email);\r\n            setRole1(user.role)\r\n        }\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors());\r\n        }\r\n\r\n        if (isUpdated) {\r\n            alert.success('Kha ti khon thnh cng!')\r\n\r\n            history.push('/admin/users')\r\n\r\n            dispatch({\r\n                type: UPDATE_USER_RESET\r\n            })\r\n        }\r\n\r\n    }, [dispatch, alert, error, history, isUpdated, userId, user])\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n\r\n        const formData = new FormData();\r\n        formData.set('name', name);\r\n        formData.set('email', email);\r\n        formData.set('role', role);\r\n\r\n        dispatch(updateUser(user._id, formData))\r\n    }\r\n\r\n\r\n    return (\r\n        <Fragment>\r\n            <MetaData title={`Update User`} />\r\n            <div className=\"row\">\r\n                <div className=\"col-12 col-md-2\">\r\n                    <Sidebar />\r\n                </div>\r\n\r\n                <div className=\"col-12 col-md-10\">\r\n                    <div className=\"row wrapper\">\r\n                        <div className=\"col-10 col-lg-5\">\r\n                            <form className=\"shadow-lg\" onSubmit={submitHandler}>\r\n                                <h1 className=\"mt-2 mb-5\">KHA TI KHON</h1>\r\n                                <img className='img_look container' src='https://us.123rf.com/450wm/yupiramos/yupiramos1709/yupiramos170901899/85031041-viejo-dise%C3%B1o-aislado-clave-del-ejemplo-del-vector-del-icono.jpg?ver=6' alt='' />\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"email_field\">Email</label>\r\n                                    <input\r\n                                        type=\"email\"\r\n                                        id=\"email_field\"\r\n                                        className=\"form-control\"\r\n                                        name='email'\r\n                                        value={email}\r\n                                        onChange={(e) => setEmail(e.target.value)}\r\n                                        disabled\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"role_field\">Quyn</label>\r\n\r\n                                    <select\r\n                                        id=\"role_field\"\r\n                                        className=\"form-control\"\r\n                                        name='role'\r\n                                        value=\"look\"\r\n                                        onChange={(e) => setRole1(e.target.value)}\r\n                                    >\r\n                                        <option value=\"look\">Kha ti khon</option>\r\n                                        <option value=\"look\">Kha ti khon</option>\r\n                                    </select>\r\n                                </div>\r\n\r\n                                <button type=\"submit\" className=\"btn update-btn btn-block mt-4 mb-3\" >Kha ti khon</button>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default LookAccount\r\n","import \"../../App.css\";\r\nimport {\r\n    LineChart,\r\n    Line,\r\n    XAxis,\r\n    CartesianGrid,\r\n    Tooltip,\r\n    ResponsiveContainer,\r\n} from \"recharts\";\r\n\r\nexport default function Chart({ title, data, dataKey, grid }) {\r\n\r\n    return (\r\n        <div className=\"chart\">\r\n            <h3 className=\"chartTitle\">{title}</h3>\r\n            <ResponsiveContainer width=\"100%\" aspect={4 / 1}>\r\n                <LineChart data={data}>\r\n                    <XAxis dataKey=\"name\" stroke=\"#5550bd\" />\r\n                    <Line type=\"monotone\" dataKey={dataKey} stroke=\"#5550bd\" />\r\n                    <Tooltip />\r\n                    {grid && <CartesianGrid stroke=\"#e0dfdf\" strokeDasharray=\"5 5\" />}\r\n                </LineChart>\r\n            </ResponsiveContainer>\r\n        </div>\r\n    );\r\n}","import Chart from \"../../components/admin/Chart\";\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport axios from 'axios';\r\n\r\n\r\nexport default function ChartIncome() {\r\n    const [userStats, setUserStats] = useState([]);\r\n\r\n\r\n    const MONTHS = useMemo(\r\n        () => [\r\n            \"Thng 1\",\r\n            \"Thng 2\",\r\n            \"Thng 3\",\r\n            \"Thng 4\",\r\n            \"Thng 5\",\r\n            \"Thng 6\",\r\n            \"Thng 7\",\r\n            \"Thng 8\",\r\n            \"Thng 9\",\r\n            \"Thng 10\",\r\n            \"Thng 11\",\r\n            \"Thng 12\",\r\n        ],\r\n        []\r\n    );\r\n\r\n\r\n    useEffect(() => {\r\n        const getStats = async () => {\r\n            try {\r\n                const res = await axios.get('/api/v1/admin/orders/income')\r\n                res.data.map((item) =>\r\n                    setUserStats((prev) => [\r\n                        ...prev,\r\n                        { name: MONTHS[item._id - 1], \"Danh thu\": item.total },\r\n                    ])\r\n                );\r\n\r\n            } catch { }\r\n        };\r\n        getStats();\r\n    }, [MONTHS]);\r\n\r\n    return (\r\n        <div>\r\n            <Chart\r\n                data={userStats}\r\n                title=\"Danh thu hng thng\"\r\n                grid\r\n                dataKey=\"Danh thu\"\r\n            />\r\n        </div>\r\n    );\r\n}","import React, { Fragment, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { Doughnut, Line, Radar } from \"react-chartjs-2\";\r\n\r\nimport MetaData from '../layout/MetaData'\r\nimport Loader from '../layout/Loader'\r\nimport Sidebar from './Sidebar'\r\n\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport { getAdminProducts } from '../../actions/productActions'\r\nimport { allOrders } from '../../actions/orderActions'\r\nimport { allUsers } from '../../actions/userActions'\r\nimport ChartIncome from './ChartIncome';\r\n\r\nconst Dashboard = () => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const { products } = useSelector(state => state.products)\r\n    const { users } = useSelector(state => state.allUsers)\r\n    const { orders, totalAmount, loading } = useSelector(state => state.allOrders)\r\n\r\n    let outOfStock = 0;\r\n    products.forEach(product => {\r\n        if (product.stock === 0) {\r\n            outOfStock += 1;\r\n        }\r\n    })\r\n    // status order\r\n    let da_dat_hang = 0;\r\n    let dang_van_chuyen = 0;\r\n    let da_giao_hang = 0;\r\n    orders &&\r\n        orders.forEach((order) => {\r\n            if (order.orderStatus === \" t hng\") {\r\n                da_dat_hang += 1;\r\n            }\r\n            if (order.orderStatus === \"ang vn chuyn\") {\r\n                dang_van_chuyen += 1;\r\n            }\r\n            if (order.orderStatus === \" giao hng\") {\r\n                da_giao_hang += 1;\r\n            }\r\n        });\r\n\r\n    useEffect(() => {\r\n        dispatch(getAdminProducts())\r\n        dispatch(allOrders())\r\n        dispatch(allUsers())\r\n    }, [dispatch]);\r\n\r\n    let totalAmountall = 0;\r\n    orders &&\r\n        orders.forEach((product) => {\r\n            totalAmountall += product.totalPrice;\r\n        });\r\n    // Chart Line tnh tng doanh thu\r\n    const lineState = {\r\n        labels: [\"S tin ban u\", \"Tng danh thu hin ti\"],\r\n        datasets: [\r\n            {\r\n                label: \"TNG DANH THU\",\r\n                backgroundColor: [\"blue\"],\r\n                hoverBackgroundColor: [\"rgb(197, 72, 49)\"],\r\n                data: [0, totalAmountall],\r\n            },\r\n        ],\r\n    };\r\n    // Doughnut tnh s lng hng cn v ht hng\r\n    const doughnutState = {\r\n        labels: [\"Ht hng\", \"Cn hng\"],\r\n        datasets: [\r\n            {\r\n                backgroundColor: [\"#00A6B4\", \"#6800B4\"],\r\n                hoverBackgroundColor: [\"#FF1493\", \"#FFD700\"],\r\n                data: [outOfStock, products.length - outOfStock],\r\n            },\r\n        ],\r\n    };\r\n    // Doughnut thng k trng thi n hng\r\n    const doughnutStateOrder = {\r\n        labels: [\" t hng\", \"ang vn chuyn\", \" giao hng\"],\r\n        datasets: [\r\n            {\r\n                backgroundColor: [\"#00A6B4\", \"#6800B4\", \"#FF7F50\"],\r\n                hoverBackgroundColor: [\"#FF1493\", \"#00FA9A\", \"#FFD700\"],\r\n                data: [da_dat_hang, dang_van_chuyen, da_giao_hang],\r\n            },\r\n        ],\r\n    };\r\n    // radar chart\r\n    let kho_giavi = 0;\r\n    let dong_lanh = 0;\r\n    let che_bien = 0;\r\n    let thit_trung_haisan = 0;\r\n    let rau_cu_traicay = 0;\r\n    let banh_keo = 0;\r\n    let do_uong = 0;\r\n    products &&\r\n        products.forEach((product) => {\r\n            if (product.category === \"Thc phm Kh - Gia V\") {\r\n                kho_giavi += 1;\r\n            }\r\n            if (product.category === \"Rau-C-Tri cy\") {\r\n                rau_cu_traicay += 1;\r\n            }\r\n            if (product.category === \" ung - Gii kht\") {\r\n                do_uong += 1;\r\n            }\r\n            if (product.category === \"Bnh ko -  n vt\") {\r\n                banh_keo += 1;\r\n            }\r\n            if (product.category === \"Thc phm ch bin\") {\r\n                che_bien += 1;\r\n            }\r\n            if (product.category === \"Tht-Trng-Hi sn\") {\r\n                thit_trung_haisan += 1;\r\n            }\r\n            if (product.category === \"Thc phm ng lnh\") {\r\n                dong_lanh += 1;\r\n            }\r\n        });\r\n    const data = {\r\n        labels: [\r\n            'Thc phm kh - Gia v',\r\n            'Thc phm ng lnh',\r\n            'Thc phm ch bin',\r\n            'Tht - Trng - Hi sn',\r\n            'Rau - C - Tri cy',\r\n            'Bnh ko -  n vt',\r\n            ' ung - Gii kht'\r\n        ],\r\n        datasets: [{\r\n            label: 'Danh mc sn phm',\r\n            data: [kho_giavi, dong_lanh, che_bien, thit_trung_haisan, rau_cu_traicay, banh_keo, do_uong],\r\n            fill: true,\r\n            backgroundColor: 'rgba(54, 162, 235, 0.2)',\r\n            borderColor: 'rgb(54, 162, 235)',\r\n            pointBackgroundColor: 'rgb(54, 162, 235)',\r\n            pointBorderColor: '#fff',\r\n            pointHoverBackgroundColor: '#fff',\r\n            pointHoverBorderColor: 'rgb(54, 162, 235)'\r\n        }]\r\n    };\r\n\r\n    return (\r\n        <Fragment>\r\n            <div class=\"grid-bg ba-grid anim\">\r\n                <div class=\"inner\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-12 col-md-2\">\r\n                            <Sidebar />\r\n                        </div>\r\n\r\n                        <div className=\"col-12 col-md-10\">\r\n                            <h1 className=\"my-4\">Tng quan</h1>\r\n\r\n                            {loading ? <Loader /> : (\r\n                                <Fragment>\r\n                                    <MetaData title={'Admin Dashboard'} />\r\n\r\n                                    <div className=\"row pr-4\">\r\n                                        <div className=\"col-xl-3 col-sm-6 mb-3\">\r\n                                            <div className=\"card text-white bg-primary o-hidden h-100\">\r\n                                                <div className=\"card-body\">\r\n                                                    <div className=\"text-center card-font-size\">Tng danh thu<br /> <b>{totalAmount && totalAmount.toLocaleString()} VN</b>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <Link className=\"card-footer text-white clearfix small z-1\" to=\"/admin/orders\">\r\n                                                    <span className=\"float-left\">Xem chi tit</span>\r\n                                                    <span className=\"float-right\">\r\n                                                        <i className=\"fa fa-angle-right\"></i>\r\n                                                    </span>\r\n                                                </Link>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"col-xl-3 col-sm-6 mb-3\">\r\n                                            <div className=\"card text-white bg-success o-hidden h-100\">\r\n                                                <div className=\"card-body\">\r\n                                                    <div className=\"text-center card-font-size\">Tng sn phm<br /> <b>{products && products.length}</b></div>\r\n                                                </div>\r\n                                                <Link className=\"card-footer text-white clearfix small z-1\" to=\"/admin/products\">\r\n                                                    <span className=\"float-left\">Xem chi tit</span>\r\n                                                    <span className=\"float-right\">\r\n                                                        <i className=\"fa fa-angle-right\"></i>\r\n                                                    </span>\r\n                                                </Link>\r\n                                            </div>\r\n                                        </div>\r\n\r\n\r\n                                        <div className=\"col-xl-3 col-sm-6 mb-3\">\r\n                                            <div className=\"card text-white bg-danger o-hidden h-100\">\r\n                                                <div className=\"card-body\">\r\n                                                    <div className=\"text-center card-font-size\">Tng ha n<br /> <b>{orders && orders.length}</b></div>\r\n                                                </div>\r\n                                                <Link className=\"card-footer text-white clearfix small z-1\" to=\"/admin/orders\">\r\n                                                    <span className=\"float-left\">Xem chi tit</span>\r\n                                                    <span className=\"float-right\">\r\n                                                        <i className=\"fa fa-angle-right\"></i>\r\n                                                    </span>\r\n                                                </Link>\r\n                                            </div>\r\n                                        </div>\r\n\r\n\r\n                                        <div className=\"col-xl-3 col-sm-6 mb-3\">\r\n                                            <div className=\"card text-white bg-info o-hidden h-100\">\r\n                                                <div className=\"card-body\">\r\n                                                    <div className=\"text-center card-font-size\">Tng ngi dng<br /> <b>{users && users.length}</b></div>\r\n                                                </div>\r\n                                                <Link className=\"card-footer text-white clearfix small z-1\" to=\"/admin/users\">\r\n                                                    <span className=\"float-left\">Xem chi tit</span>\r\n                                                    <span className=\"float-right\">\r\n                                                        <i className=\"fa fa-angle-right\"></i>\r\n                                                    </span>\r\n                                                </Link>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"col-xl-3 col-sm-6 mb-3\">\r\n                                            <div className=\"card text-white bg-light o-hidden h-100\">\r\n                                                <div className=\"card-body\">\r\n                                                    {/* Doughnut Chart */}\r\n                                                    <h6 className='text-dark'>Tnh trng s lng hng</h6>\r\n                                                    <div className=\"doughnutChart\">\r\n                                                        <Doughnut data={doughnutState} />\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"col-xl-3 col-sm-6 mb-3\">\r\n                                            <div className=\"card text-white bg-light o-hidden h-100\">\r\n                                                <div className=\"card-body\">\r\n                                                    {/* Doughnut Chart */}\r\n                                                    <h6 className='text-dark'>Tnh trng n hng</h6>\r\n                                                    {/* Doughnut Chart */}\r\n                                                    <div className=\"doughnutChart\">\r\n                                                        <Doughnut data={doughnutStateOrder} />\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"col-xl-6 col-sm-12 mb-3\">\r\n                                            <div className=\"card text-white bg-light o-hidden h-100\">\r\n                                                <div className=\"card-body\">\r\n                                                    <h6 className='text-dark'>Tng doanh thu</h6>\r\n                                                    {/* Line chart */}\r\n                                                    <div className=\"lineChart\">\r\n                                                        <Line\r\n                                                            data={lineState}\r\n                                                        />\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                </Fragment>\r\n                            )}\r\n\r\n                            <div className='row'>\r\n\r\n                                <div className='col-md-6'>\r\n                                    <ChartIncome />\r\n                                </div>\r\n                                <div className='radar col-md-5 card text-white bg-light'>\r\n\r\n                                    <Radar\r\n                                        data={data}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </Fragment >\r\n    )\r\n}\r\n\r\nexport default Dashboard\r\n","import React, { Fragment, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { MDBDataTable } from 'mdbreact'\r\n\r\nimport MetaData from '../layout/MetaData'\r\nimport Loader from '../layout/Loader'\r\nimport Sidebar from './Sidebar'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getAdminProducts, deleteProduct, clearErrors } from '../../actions/productActions'\r\nimport { DELETE_PRODUCT_RESET } from '../../constants/productConstants'\r\n\r\nconst ProductsList = ({ history }) => {\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { loading, error, products } = useSelector(state => state.products);\r\n    const { error: deleteError, isDeleted } = useSelector(state => state.product)\r\n\r\n    useEffect(() => {\r\n        dispatch(getAdminProducts());\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors())\r\n        }\r\n\r\n        if (deleteError) {\r\n            alert.error(deleteError);\r\n            dispatch(clearErrors())\r\n        }\r\n\r\n        if (isDeleted) {\r\n            alert.success('Product deleted successfully');\r\n            history.push('/admin/products');\r\n            dispatch({ type: DELETE_PRODUCT_RESET })\r\n        }\r\n\r\n    }, [dispatch, alert, error, deleteError, isDeleted, history])\r\n\r\n    const setProducts = () => {\r\n        const data = {\r\n            columns: [\r\n                {\r\n                    label: 'ID',\r\n                    field: 'id',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Tn sn phm',\r\n                    field: 'name',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Gi',\r\n                    field: 'price',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'S lng cn li',\r\n                    field: 'stock',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Hnh ng',\r\n                    field: 'actions',\r\n                },\r\n            ],\r\n            rows: []\r\n        }\r\n\r\n        products.forEach(product => {\r\n            data.rows.push({\r\n                id: product._id,\r\n                name: product.name,\r\n                price: `${(product.price).toLocaleString()} VN`,\r\n                stock: product.stock,\r\n                actions: <Fragment>\r\n                    <Link to={`/admin/product/${product._id}`} className=\"btn btn-primary py-1 px-2\">\r\n                        <i className=\"fa fa-pencil\"></i>\r\n                    </Link>\r\n                    <button className=\"btn btn-danger py-1 px-2 ml-2\" data-toggle=\"modal\" data-target=\"#exampleModal\" >\r\n                        <i className=\"fa fa-trash\"></i>\r\n                    </button>\r\n                    {/* model delete */}\r\n                    <div>\r\n                        <div className=\"modal fade\" id=\"exampleModal\" tabIndex={-1} role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n                            <div className=\"modal-dialog\" role=\"document\">\r\n                                <div className=\"modal-content\">\r\n                                    <div className=\"modal-header\">\r\n                                        <h5 className=\"modal-title\" id=\"exampleModalLabel\">Thng bo!</h5>\r\n                                        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                            <span aria-hidden=\"true\"></span>\r\n                                        </button>\r\n                                    </div>\r\n                                    <div class=\"modal-body\">\r\n                                        Bn c mun xa khng\r\n                                    </div>\r\n                                    <div className=\"modal-footer\">\r\n                                        <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Hy</button>\r\n                                        <button type=\"button\" className=\"btn btn-danger\" onClick={() => deleteProductHandler(product._id)} data-dismiss=\"modal\">Xa</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </Fragment>\r\n            })\r\n        })\r\n\r\n        return data;\r\n    }\r\n\r\n    const deleteProductHandler = (id) => {\r\n        dispatch(deleteProduct(id))\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <MetaData title={'Tt c sn phm'} />\r\n\r\n            <div className=\"row\">\r\n                <div className=\"col-12 col-md-2\">\r\n                    <Sidebar />\r\n                </div>\r\n\r\n                <div className=\"col-12 col-md-10\">\r\n                    <Fragment>\r\n                        <h1 className=\"my-5\">Tt c sn phm</h1>\r\n                        <Link to='/admin/product'><button type=\"button\" className=\"btn btn-primary\">Thm sn phm mi</button></Link>\r\n\r\n                        {loading ? <Loader /> : (\r\n                            <MDBDataTable\r\n                                data={setProducts()}\r\n                                className=\"px-3\"\r\n                                bordered\r\n                                striped\r\n                                hover\r\n                            />\r\n                        )}\r\n\r\n                    </Fragment>\r\n                </div>\r\n            </div>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default ProductsList\r\n","import React, { Fragment, useState, useEffect } from 'react'\r\n\r\nimport MetaData from '../layout/MetaData'\r\nimport Sidebar from './Sidebar'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { newProduct, clearErrors } from '../../actions/productActions'\r\nimport { NEW_PRODUCT_RESET } from '../../constants/productConstants'\r\n\r\nconst NewProduct = ({ history }) => {\r\n\r\n    const [name, setName] = useState('');\r\n    const [price, setPrice] = useState(0);\r\n    const [description, setDescription] = useState('');\r\n    const [category, setCategory] = useState('');\r\n    const [stock, setStock] = useState(0);\r\n    const [seller, setSeller] = useState('');\r\n    const [images, setImages] = useState([]);\r\n    const [imagesPreview, setImagesPreview] = useState([])\r\n\r\n    const categories = [\r\n        'Rau-C-Tri cy',\r\n        'Rau-C-Tri cy',\r\n        'Tht-Trng-Hi sn',\r\n        'Thc phm ch bin',\r\n        'Thc phm ng lnh',\r\n        'Thc phm Kh - Gia V',\r\n        'Bnh ko -  n vt',\r\n        \"Sa - Sn phm t sa\",\r\n        ' ung - Gii kht',\r\n        'Ha M phm',\r\n        'Chm sc c nhn',\r\n        'Chm sc m v b',\r\n        'Th thao'\r\n    ]\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { error, success } = useSelector(state => state.newProduct);\r\n\r\n    useEffect(() => {\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors())\r\n        }\r\n\r\n        if (success) {\r\n            history.push('/admin/products');\r\n            alert.success('Thm sn phm thnh cng');\r\n            dispatch({ type: NEW_PRODUCT_RESET })\r\n        }\r\n\r\n    }, [dispatch, alert, error, success, history])\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n\r\n        const formData = new FormData();\r\n        formData.set('name', name);\r\n        formData.set('price', price);\r\n        formData.set('description', description);\r\n        formData.set('category', category);\r\n        formData.set('stock', stock);\r\n        formData.set('seller', seller);\r\n\r\n        images.forEach(image => {\r\n            formData.append('images', image)\r\n        })\r\n\r\n        dispatch(newProduct(formData))\r\n    }\r\n\r\n    const onChange = e => {\r\n\r\n        const files = Array.from(e.target.files)\r\n\r\n        setImagesPreview([]);\r\n        setImages([])\r\n\r\n        files.forEach(file => {\r\n            const reader = new FileReader();\r\n\r\n            reader.onload = () => {\r\n                if (reader.readyState === 2) {\r\n                    setImagesPreview(oldArray => [...oldArray, reader.result])\r\n                    setImages(oldArray => [...oldArray, reader.result])\r\n                }\r\n            }\r\n\r\n            reader.readAsDataURL(file)\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <Fragment>\r\n            <MetaData title={'Thm sn phm mi'} />\r\n            <div className=\"row\">\r\n                <div className=\"col-12 col-md-2\">\r\n                    <Sidebar />\r\n                </div>\r\n\r\n                <div className=\"col-12 col-md-10\">\r\n                    <Fragment>\r\n                        <div className=\"wrapper my-5\">\r\n                            <form className=\"shadow-lg\" onSubmit={submitHandler} encType='multipart/form-data'>\r\n                                <h1 className=\"mb-4\">Thm sn phm mi</h1>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"name_field\">Tn sn phm</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        id=\"name_field\"\r\n                                        className=\"form-control\"\r\n                                        value={name}\r\n                                        onChange={(e) => setName(e.target.value)}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"price_field\">Gi</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        id=\"price_field\"\r\n                                        className=\"form-control\"\r\n                                        value={price}\r\n                                        onChange={(e) => setPrice(e.target.value)}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"description_field\">M t</label>\r\n                                    <textarea className=\"form-control\" id=\"description_field\" rows=\"8\" value={description} onChange={(e) => setDescription(e.target.value)}></textarea>\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"category_field\">Danh mc</label>\r\n                                    <select className=\"form-control\" id=\"category_field\" value={category} onChange={(e) => setCategory(e.target.value)}>\r\n                                        {categories.map(category => (\r\n                                            <option key={category} value={category} >{category}</option>\r\n                                        ))}\r\n\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"stock_field\">S lng tn</label>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        id=\"stock_field\"\r\n                                        className=\"form-control\"\r\n                                        value={stock}\r\n                                        onChange={(e) => setStock(e.target.value)}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"seller_field\">Nh sn xut</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        id=\"seller_field\"\r\n                                        className=\"form-control\"\r\n                                        value={seller}\r\n                                        onChange={(e) => setSeller(e.target.value)}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className='form-group'>\r\n                                    <label>Hnh sn phm</label>\r\n\r\n                                    <div className='custom-file'>\r\n                                        <input\r\n                                            type='file'\r\n                                            name='product_images'\r\n                                            className='custom-file-input'\r\n                                            id='customFile'\r\n                                            onChange={onChange}\r\n                                            multiple\r\n                                        />\r\n                                        <label className='custom-file-label' htmlFor='customFile'>\r\n                                            Chn hnh\r\n                                        </label>\r\n                                    </div>\r\n\r\n                                    {imagesPreview.map(img => (\r\n                                        <img src={img} key={img} alt=\"Images Preview\" className=\"mt-3 mr-2\" width=\"55\" height=\"52\" />\r\n                                    ))}\r\n\r\n                                </div>\r\n\r\n\r\n                                <button\r\n                                    id=\"login_button\"\r\n                                    type=\"submit\"\r\n                                    className=\"btn btn-block py-3\"\r\n                                    \r\n                                >\r\n                                    Thm mi\r\n                                </button>\r\n\r\n                            </form>\r\n                        </div>\r\n                    </Fragment>\r\n                </div>\r\n            </div>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default NewProduct\r\n","import React, { Fragment, useState, useEffect } from 'react'\r\n\r\nimport MetaData from '../layout/MetaData'\r\nimport Sidebar from './Sidebar'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { updateProduct, getProductDetails, clearErrors } from '../../actions/productActions'\r\nimport { UPDATE_PRODUCT_RESET } from '../../constants/productConstants'\r\n\r\nconst UpdateProduct = ({ match, history }) => {\r\n\r\n    const [name, setName] = useState('');\r\n    const [price, setPrice] = useState(0);\r\n    const [description, setDescription] = useState('');\r\n    const [category, setCategory] = useState('');\r\n    const [stock, setStock] = useState(0);\r\n    const [seller, setSeller] = useState('');\r\n    const [images, setImages] = useState([]);\r\n\r\n    const [oldImages, setOldImages] = useState([]);\r\n    const [imagesPreview, setImagesPreview] = useState([])\r\n\r\n    const categories = [\r\n        'Rau-C-Tri cy',\r\n        'Rau-C-Tri cy',\r\n        'Tht-Trng-Hi sn',\r\n        'Thc phm ch bin',\r\n        'Thc phm ng lnh',\r\n        'Thc phm Kh - Gia V',\r\n        'Bnh ko -  n vt',\r\n        \"Sa - Sn phm t sa\",\r\n        ' ung - Gii kht',\r\n        'Ha M phm',\r\n        'Chm sc c nhn',\r\n        'Chm sc m v b',\r\n        'Th thao'\r\n    ]\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { error, product } = useSelector(state => state.productDetails)\r\n    const { loading, error: updateError, isUpdated } = useSelector(state => state.product);\r\n\r\n    const productId = match.params.id;\r\n\r\n    useEffect(() => {\r\n\r\n        if (product && product._id !== productId) {\r\n            dispatch(getProductDetails(productId));\r\n        } else {\r\n            setName(product.name);\r\n            setPrice(product.price);\r\n            setDescription(product.description);\r\n            setCategory(product.category);\r\n            setSeller(product.seller);\r\n            setStock(product.stock)\r\n            setOldImages(product.images)\r\n        }\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors())\r\n        }\r\n\r\n        if (updateError) {\r\n            alert.error(updateError);\r\n            dispatch(clearErrors())\r\n        }\r\n\r\n\r\n        if (isUpdated) {\r\n            history.push('/admin/products');\r\n            alert.success('Product updated successfully');\r\n            dispatch({ type: UPDATE_PRODUCT_RESET })\r\n        }\r\n\r\n    }, [dispatch, alert, error, isUpdated, history, updateError, product, productId])\r\n\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n\r\n        const formData = new FormData();\r\n        formData.set('name', name);\r\n        formData.set('price', price);\r\n        formData.set('description', description);\r\n        formData.set('category', category);\r\n        formData.set('stock', stock);\r\n        formData.set('seller', seller);\r\n\r\n        images.forEach(image => {\r\n            formData.append('images', image)\r\n        })\r\n\r\n        dispatch(updateProduct(product._id, formData))\r\n    }\r\n\r\n    const onChange = e => {\r\n\r\n        const files = Array.from(e.target.files)\r\n\r\n        setImagesPreview([]);\r\n        setImages([])\r\n        setOldImages([])\r\n\r\n        files.forEach(file => {\r\n            const reader = new FileReader();\r\n\r\n            reader.onload = () => {\r\n                if (reader.readyState === 2) {\r\n                    setImagesPreview(oldArray => [...oldArray, reader.result])\r\n                    setImages(oldArray => [...oldArray, reader.result])\r\n                }\r\n            }\r\n\r\n            reader.readAsDataURL(file)\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <Fragment>\r\n            <MetaData title={'Update Product'} />\r\n            <div className=\"row\">\r\n                <div className=\"col-12 col-md-2\">\r\n                    <Sidebar />\r\n                </div>\r\n\r\n                <div className=\"col-12 col-md-10\">\r\n                    <Fragment>\r\n                        <div className=\"wrapper my-5\">\r\n                            <form className=\"shadow-lg\" onSubmit={submitHandler} encType='multipart/form-data'>\r\n                                <h1 className=\"mb-4\">Cp nht sn phm</h1>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"name_field\">Tn sn phm</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        id=\"name_field\"\r\n                                        className=\"form-control\"\r\n                                        value={name}\r\n                                        onChange={(e) => setName(e.target.value)}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"price_field\">Gi</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        id=\"price_field\"\r\n                                        className=\"form-control\"\r\n                                        value={price}\r\n                                        onChange={(e) => setPrice(e.target.value)}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"description_field\">M t</label>\r\n                                    <textarea className=\"form-control\" id=\"description_field\" rows=\"8\" value={description} onChange={(e) => setDescription(e.target.value)}></textarea>\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"category_field\">Danh mc</label>\r\n                                    <select className=\"form-control\" id=\"category_field\" value={category} onChange={(e) => setCategory(e.target.value)}>\r\n                                        {categories.map(category => (\r\n                                            <option key={category} value={category} >{category}</option>\r\n                                        ))}\r\n\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"stock_field\">S lng</label>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        id=\"stock_field\"\r\n                                        className=\"form-control\"\r\n                                        value={stock}\r\n                                        onChange={(e) => setStock(e.target.value)}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"seller_field\">Xut x</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        id=\"seller_field\"\r\n                                        className=\"form-control\"\r\n                                        value={seller}\r\n                                        onChange={(e) => setSeller(e.target.value)}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className='form-group'>\r\n                                    <label>nh</label>\r\n\r\n                                    <div className='custom-file'>\r\n                                        <input\r\n                                            type='file'\r\n                                            name='product_images'\r\n                                            className='custom-file-input'\r\n                                            id='customFile'\r\n                                            onChange={onChange}\r\n                                            multiple\r\n                                        />\r\n                                        <label className='custom-file-label' htmlFor='customFile'>\r\n                                            Chn hnh\r\n                                 </label>\r\n                                    </div>\r\n\r\n                                    {oldImages && oldImages.map(img => (\r\n                                        <img key={img} src={img.url} alt={img.url} className=\"mt-3 mr-2\" width=\"55\" height=\"52\" />\r\n                                    ))}\r\n\r\n                                    {imagesPreview.map(img => (\r\n                                        <img src={img} key={img} alt=\"Images Preview\" className=\"mt-3 mr-2\" width=\"55\" height=\"52\" />\r\n                                    ))}\r\n\r\n                                </div>\r\n\r\n\r\n                                <button\r\n                                    id=\"login_button\"\r\n                                    type=\"submit\"\r\n                                    className=\"btn btn-block py-3\"\r\n                                    disabled={loading ? true : false}\r\n                                >\r\n                                    Cp nht\r\n                            </button>\r\n\r\n                            </form>\r\n                        </div>\r\n                    </Fragment>\r\n                </div>\r\n            </div>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default UpdateProduct\r\n","import React, { Fragment, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { MDBDataTable } from 'mdbreact'\r\n\r\nimport MetaData from '../layout/MetaData'\r\nimport Loader from '../layout/Loader'\r\nimport Sidebar from './Sidebar'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { allOrders, clearErrors } from '../../actions/orderActions'\r\nimport { DELETE_ORDER_RESET } from '../../constants/orderConstants'\r\n\r\nconst OrdersList = ({ history }) => {\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { loading, error, orders } = useSelector(state => state.allOrders);\r\n    const { isDeleted } = useSelector(state => state.order)\r\n\r\n    useEffect(() => {\r\n        dispatch(allOrders());\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors())\r\n        }\r\n\r\n        if (isDeleted) {\r\n            alert.success('Xa ha n thnh cng');\r\n            history.push('/admin/orders');\r\n            dispatch({ type: DELETE_ORDER_RESET })\r\n        }\r\n\r\n    }, [dispatch, alert, error, isDeleted, history])\r\n\r\n\r\n\r\n    const setOrders = () => {\r\n        const data = {\r\n            columns: [\r\n                {\r\n                    label: 'ID',\r\n                    field: 'id',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'S mt hng',\r\n                    field: 'numofItems',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Tng tin',\r\n                    field: 'amount',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Ngy to ha n',\r\n                    field: 'createdAt',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Trng thi',\r\n                    field: 'status',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Hnh ng',\r\n                    field: 'actions',\r\n                },\r\n            ],\r\n            rows: []\r\n        }\r\n\r\n        orders.forEach(order => {\r\n            data.rows.push({\r\n                id: order._id,\r\n                numofItems: order.orderItems.length,\r\n                amount: `${order.totalPrice} VN`,\r\n                createdAt: order.createdAt,\r\n                status: order.orderStatus && String(order.orderStatus).includes(' giao hng')\r\n                    ? <p style={{ color: 'green' }}>{order.orderStatus}</p>\r\n                    : <p style={{ color: 'red' }}>{order.orderStatus}</p>,\r\n                actions: <Fragment>\r\n                    &emsp;&emsp;&emsp;&emsp;\r\n                    <Link to={`/admin/order/${order._id}`} className=\"btn btn-primary py-1 px-2\">\r\n                        <i className=\"fa fa-eye\"></i>\r\n                    </Link>\r\n\r\n                </Fragment>\r\n            })\r\n        })\r\n\r\n        return data;\r\n    }\r\n\r\n\r\n    return (\r\n        <Fragment>\r\n            <MetaData title={'All Orders'} />\r\n            <div className=\"row\">\r\n                <div className=\"col-12 col-md-2\">\r\n                    <Sidebar />\r\n                </div>\r\n\r\n                <div className=\"col-12 col-md-10\">\r\n                    <Fragment>\r\n                        <h1 className=\"my-5\">Tt c n hng</h1>\r\n\r\n                        {loading ? <Loader /> : (\r\n                            <MDBDataTable\r\n                                data={setOrders()}\r\n                                className=\"px-3\"\r\n                                bordered\r\n                                striped\r\n                                hover\r\n                            />\r\n                        )}\r\n\r\n                    </Fragment>\r\n                </div>\r\n            </div>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default OrdersList\r\n","import React, { Fragment, useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport MetaData from '../layout/MetaData'\r\nimport Loader from '../layout/Loader'\r\nimport Sidebar from './Sidebar'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getOrderDetails, updateOrder, clearErrors } from '../../actions/orderActions'\r\nimport { UPDATE_ORDER_RESET } from '../../constants/orderConstants'\r\n\r\nconst ProcessOrder = ({ match }) => {\r\n\r\n    const [status, setStatus] = useState('');\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { loading, order = {} } = useSelector(state => state.orderDetails)\r\n    const { shippingInfo, orderItems, paymentInfo, user, totalPrice, orderStatus } = order\r\n    const { error, isUpdated } = useSelector(state => state.order)\r\n\r\n    const orderId = match.params.id;\r\n\r\n    useEffect(() => {\r\n\r\n        dispatch(getOrderDetails(orderId))\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors())\r\n        }\r\n\r\n\r\n        if (isUpdated) {\r\n            alert.success('Cp nht ha n thnh cng');\r\n            dispatch({ type: UPDATE_ORDER_RESET })\r\n        }\r\n\r\n    }, [dispatch, alert, error, isUpdated, orderId])\r\n\r\n\r\n    const updateOrderHandler = (id) => {\r\n\r\n        const formData = new FormData();\r\n        formData.set('status', status);\r\n\r\n        dispatch(updateOrder(id, formData))\r\n    }\r\n\r\n    const shippingDetails = shippingInfo && `${shippingInfo.address}, ${shippingInfo.city}, ${shippingInfo.postalCode}, ${shippingInfo.country}`\r\n    const isPaid = paymentInfo && paymentInfo.status === 'succeeded' ? true : false\r\n\r\n    return (\r\n        <Fragment>\r\n            <MetaData title={`Process Order # ${order && order._id}`} />\r\n            <div className=\"row\">\r\n                <div className=\"col-12 col-md-2\">\r\n                    <Sidebar />\r\n                </div>\r\n\r\n                <div className=\"col-12 col-md-10\">\r\n                    <Fragment>\r\n                        {loading ? <Loader /> : (\r\n                            <div className=\"row d-flex justify-content-around\">\r\n                                <div className=\"col-12 col-lg-7 order-details\">\r\n\r\n                                    <h2 className=\"my-5\">n hng # {order._id}</h2>\r\n\r\n                                    <h4 className=\"mb-4\">Thng tin vn chuyn</h4>\r\n                                    <p><b>Tn khch hng:</b> {user && user.name}</p>\r\n                                    <p><b>S in thoi:</b> {shippingInfo && shippingInfo.phoneNo}</p>\r\n                                    <p className=\"mb-4\"><b>a ch:</b>{shippingDetails}</p>\r\n                                    <p><b>Tng tin:</b> {totalPrice} VN</p>\r\n\r\n                                    <hr />\r\n\r\n                                    <h4 className=\"my-4\">Tnh trng thanh ton</h4>\r\n                                    <p className={isPaid ? \"greenColor\" : \"redColor\"}><b>{isPaid ? \" thanh ton\" : \"Cha thanh ton\"}</b></p>\r\n\r\n                                    <h4 className=\"my-4\">Stripe ID</h4>\r\n                                    <p><b>{paymentInfo && paymentInfo.id}</b></p>\r\n\r\n                                    <h4 className=\"my-4\">Trng thi ha n:</h4>\r\n                                    <p className={order.orderStatus && String(order.orderStatus).includes(' giao hng') ? \"greenColor\" : \"redColor\"} ><b>{orderStatus}</b></p>\r\n\r\n\r\n\r\n                                    <h4 className=\"my-4\">Cc mt hng  t:</h4>\r\n\r\n                                    <hr />\r\n                                    <div className=\"cart-item my-1\">\r\n                                        {orderItems && orderItems.map(item => (\r\n                                            <div key={item.product} className=\"row my-5\">\r\n                                                <div className=\"col-4 col-lg-2\">\r\n                                                    <img src={item.image} alt={item.name} height=\"45\" width=\"65\" />\r\n                                                </div>\r\n\r\n                                                <div className=\"col-5 col-lg-5\">\r\n                                                    <Link to={`/products/${item.product}`}>{item.name}</Link>\r\n                                                </div>\r\n\r\n\r\n                                                <div className=\"col-4 col-lg-2 mt-4 mt-lg-0\">\r\n                                                    <p>{item.price} VN</p>\r\n                                                </div>\r\n\r\n                                                <div className=\"col-4 col-lg-3 mt-4 mt-lg-0\">\r\n                                                    <p>S lng {item.quantity} </p>\r\n                                                </div>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                    <hr />\r\n                                </div>\r\n\r\n                                <div className=\"col-12 col-lg-3 mt-5\">\r\n                                    <h4 className=\"my-4\">Trng thi</h4>\r\n\r\n                                    <div className=\"form-group\">\r\n                                        <select\r\n                                            className=\"form-control\"\r\n                                            name='status'\r\n                                            value={status}\r\n                                            onChange={(e) => setStatus(e.target.value)}\r\n                                        >\r\n                                            <option value=\" t hng\"> t hng</option>\r\n                                            <option value=\"ang vn chuyn\">ang vn chuyn</option>\r\n                                            <option value=\" giao hng\"> giao hng</option>\r\n                                        </select>\r\n                                    </div>\r\n\r\n                                    <button className=\"btn btn-primary btn-block\" onClick={() => updateOrderHandler(order._id)}>\r\n                                        Cp nht trng thi\r\n                                    </button>\r\n                                </div>\r\n\r\n                            </div>\r\n                        )}\r\n                    </Fragment>\r\n                </div>\r\n            </div>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default ProcessOrder\r\n","import React, { Fragment, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { MDBDataTable } from 'mdbreact'\r\n\r\nimport MetaData from '../layout/MetaData'\r\nimport Loader from '../layout/Loader'\r\nimport Sidebar from './Sidebar'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { allUsers, clearErrors } from '../../actions/userActions'\r\nimport { DELETE_USER_RESET } from '../../constants/userConstants'\r\n\r\nconst UsersList = ({ history }) => {\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { loading, error, users } = useSelector(state => state.allUsers);\r\n    const { isDeleted } = useSelector(state => state.user)\r\n\r\n    useEffect(() => {\r\n        dispatch(allUsers());\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors())\r\n        }\r\n\r\n        if (isDeleted) {\r\n            alert.success('User deleted successfully');\r\n            history.push('/admin/users');\r\n            dispatch({ type: DELETE_USER_RESET })\r\n        }\r\n\r\n    }, [dispatch, alert, error, isDeleted, history])\r\n\r\n\r\n    const setUsers = () => {\r\n        const data = {\r\n            columns: [\r\n                {\r\n                    label: 'ID',\r\n                    field: 'id',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Tn ngi dng',\r\n                    field: 'name',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Email',\r\n                    field: 'email',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Quyn',\r\n                    field: 'role',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Trng thi ti khon    ',\r\n                    field: 'status',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Hnh ng',\r\n                    field: 'actions',\r\n                },\r\n            ],\r\n            rows: []\r\n        }\r\n\r\n        users.forEach(userr => {\r\n            let hoat_dong = '';\r\n            if (userr.role === \"look\") {\r\n                userr.role = \" b kha\"\r\n            }\r\n            if (userr.role === \"user\") {\r\n                userr.role = \"Ngi dng\"\r\n            }\r\n            if (userr.role === \"admin\") {\r\n                userr.role = \"Qun tr\"\r\n            }\r\n            if (userr.role === \"Ngi dng\" || \"Qun tr\") {\r\n                hoat_dong = \"Hot ng\"\r\n            }\r\n\r\n            data.rows.push({\r\n                id: userr._id,\r\n                name: userr.name,\r\n                email: userr.email,\r\n                role: userr.role,\r\n                status: userr.role && String(userr.role).includes(' b kha')\r\n                    ? <p style={{ color: 'red' }}><i class=\"bi bi-key-fill\"></i> {userr.role}</p>\r\n                    : <p style={{ color: 'green' }}><i class=\"bi bi-activity\"></i> {hoat_dong}</p>,\r\n                actions: <Fragment>\r\n                    &emsp;\r\n                    <Link to={`/admin/user/${userr._id}`} className=\"btn btn-primary py-1 px-2\">\r\n                        <i className=\"fa fa-pencil\"></i>\r\n                    </Link>&emsp;\r\n                    <Link to={`/admin/look_user/${userr._id}`} className=\"btn btn-danger py-1 px-2\">\r\n                        <i class=\"bi bi-key-fill\"></i>\r\n                    </Link>\r\n\r\n                </Fragment>\r\n            })\r\n        })\r\n\r\n        return data;\r\n    }\r\n\r\n\r\n    return (\r\n        <Fragment>\r\n            <MetaData title={'All Users'} />\r\n            <div className=\"row\">\r\n                <div className=\"col-12 col-md-2\">\r\n                    <Sidebar />\r\n                </div>\r\n\r\n                <div className=\"col-12 col-md-10\">\r\n                    <Fragment>\r\n                        <h1 className=\"my-5\">Tt c ngi dng</h1>\r\n\r\n                        {loading ? <Loader /> : (\r\n                            <MDBDataTable\r\n                                data={setUsers()}\r\n                                className=\"px-3\"\r\n                                bordered\r\n                                striped\r\n                                hover\r\n                            />\r\n                        )}\r\n\r\n                    </Fragment>\r\n                </div>\r\n            </div>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default UsersList\r\n","import React, { Fragment, useState, useEffect } from 'react'\r\n\r\nimport MetaData from '../layout/MetaData'\r\nimport Sidebar from './Sidebar'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { updateUser, getUserDetails, clearErrors } from '../../actions/userActions'\r\nimport { UPDATE_USER_RESET } from '../../constants/userConstants'\r\n\r\nconst UpdateUser = ({ history, match }) => {\r\n\r\n    const [name, setName] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [role, setRole] = useState('')\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { error, isUpdated } = useSelector(state => state.user);\r\n    const { user } = useSelector(state => state.userDetails)\r\n\r\n    const userId = match.params.id;\r\n\r\n    useEffect(() => {\r\n\r\n        console.log(user && user._id !== userId);\r\n        if (user && user._id !== userId) {\r\n            dispatch(getUserDetails(userId))\r\n        } else {\r\n            setName(user.name);\r\n            setEmail(user.email);\r\n            setRole(user.role)\r\n        }\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors());\r\n        }\r\n\r\n        if (isUpdated) {\r\n            alert.success('Cp nht ngi dng thnh cng')\r\n\r\n            history.push('/admin/users')\r\n\r\n            dispatch({\r\n                type: UPDATE_USER_RESET\r\n            })\r\n        }\r\n\r\n    }, [dispatch, alert, error, history, isUpdated, userId, user])\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n\r\n        const formData = new FormData();\r\n        formData.set('name', name);\r\n        formData.set('email', email);\r\n        formData.set('role', role);\r\n\r\n        dispatch(updateUser(user._id, formData))\r\n    }\r\n\r\n\r\n    return (\r\n        <Fragment>\r\n            <MetaData title={`Update User`} />\r\n            <div className=\"row\">\r\n                <div className=\"col-12 col-md-2\">\r\n                    <Sidebar />\r\n                </div>\r\n\r\n                <div className=\"col-12 col-md-10\">\r\n                    <div className=\"row wrapper\">\r\n                        <div className=\"col-10 col-lg-5\">\r\n                            <form className=\"shadow-lg\" onSubmit={submitHandler}>\r\n                                <h1 className=\"mt-2 mb-5\">Cp nht ngi dng</h1>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"name_field\">Tn</label>\r\n                                    <input\r\n                                        type=\"name\"\r\n                                        id=\"name_field\"\r\n                                        className=\"form-control\"\r\n                                        name='name'\r\n                                        value={name}\r\n                                        onChange={(e) => setName(e.target.value)}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"email_field\">Email</label>\r\n                                    <input\r\n                                        type=\"email\"\r\n                                        id=\"email_field\"\r\n                                        className=\"form-control\"\r\n                                        name='email'\r\n                                        value={email}\r\n                                        onChange={(e) => setEmail(e.target.value)}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"role_field\">Quyn</label>\r\n\r\n                                    <select\r\n                                        id=\"role_field\"\r\n                                        className=\"form-control\"\r\n                                        name='role'\r\n                                        value={role}\r\n                                        onChange={(e) => setRole(e.target.value)}\r\n                                    >\r\n                                        <option value=\"user\">Ngi dng</option>\r\n                                        <option value=\"admin\">Qun tr</option>\r\n                                        <option value=\"look\">Kha ti khon</option>\r\n                                    </select>\r\n                                </div>\r\n\r\n                                <button type=\"submit\" className=\"btn update-btn btn-block mt-4 mb-3\" >Cp nht</button>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default UpdateUser\r\n","import React, { Fragment, useState, useEffect } from 'react'\r\nimport { MDBDataTable } from 'mdbreact'\r\n\r\nimport MetaData from '../layout/MetaData'\r\nimport Sidebar from './Sidebar'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getProductReviews, deleteReview, clearErrors } from '../../actions/productActions'\r\nimport { DELETE_REVIEW_RESET } from '../../constants/productConstants'\r\n\r\nconst ProductReviews = () => {\r\n\r\n    const [productId, setProductId] = useState('')\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { error, reviews } = useSelector(state => state.productReviews);\r\n    const { isDeleted, error: deleteError } = useSelector(state => state.review)\r\n\r\n    useEffect(() => {\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors())\r\n        }\r\n\r\n        if (deleteError) {\r\n            alert.error(deleteError);\r\n            dispatch(clearErrors())\r\n        }\r\n\r\n        if (productId !== '') {\r\n            dispatch(getProductReviews(productId))\r\n        }\r\n\r\n        if (isDeleted) {\r\n            alert.success(' xa nh gi thnh cng');\r\n            dispatch({ type: DELETE_REVIEW_RESET })\r\n        }\r\n\r\n\r\n\r\n    }, [dispatch, alert, error, productId, isDeleted, deleteError])\r\n\r\n    const deleteReviewHandler = (id) => {\r\n        dispatch(deleteReview(id, productId))\r\n    }\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        dispatch(getProductReviews(productId))\r\n    }\r\n\r\n    const setReviews = () => {\r\n        const data = {\r\n            columns: [\r\n                {\r\n                    label: 'ID',\r\n                    field: 'id',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Xp hng',\r\n                    field: 'rating',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Ni dung nh gi',\r\n                    field: 'comment',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Ngi dng',\r\n                    field: 'user',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Hnh ng',\r\n                    field: 'actions',\r\n                },\r\n            ],\r\n            rows: []\r\n        }\r\n\r\n        reviews.forEach(review => {\r\n            data.rows.push({\r\n                id: review._id,\r\n                rating: review.rating,\r\n                comment: review.comment,\r\n                user: review.name,\r\n\r\n                actions:\r\n                    <button className=\"btn btn-danger py-1 px-2 ml-2\" onClick={() => deleteReviewHandler(review._id)}>\r\n                        <i className=\"fa fa-trash\"></i>\r\n                    </button>\r\n            })\r\n        })\r\n\r\n        return data;\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <MetaData title={'Product Reviews'} />\r\n            <div className=\"row\">\r\n                <div className=\"col-12 col-md-2\">\r\n                    <Sidebar />\r\n                </div>\r\n\r\n                <div className=\"col-12 col-md-10\">\r\n                    <Fragment>\r\n                        <div className=\"row justify-content-center mt-5\">\r\n                            <div className=\"col-5\">\r\n                                <form onSubmit={submitHandler}>\r\n                                    <div className=\"form-group\">\r\n                                        <label htmlFor=\"productId_field\">Nhp ID sn phm</label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            id=\"productId_field\"\r\n                                            className=\"form-control\"\r\n                                            value={productId}\r\n                                            onChange={(e) => setProductId(e.target.value)}\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <button\r\n                                        id=\"search_button\"\r\n                                        type=\"submit\"\r\n                                        className=\"btn btn-primary btn-block py-2\"\r\n                                    >\r\n                                        TM KIM\r\n                                    </button>\r\n                                </ form>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                        {reviews && reviews.length > 0 ? (\r\n                            <MDBDataTable\r\n                                data={setReviews()}\r\n                                className=\"px-3\"\r\n                                bordered\r\n                                striped\r\n                                hover\r\n                            />\r\n                        ) : (\r\n                            <p className=\"mt-5 text-center\">Khng c bnh lun cho sn phm ny.</p>\r\n                        )}\r\n\r\n\r\n                    </Fragment>\r\n                </div>\r\n            </div>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default ProductReviews\r\n","import React, { Fragment } from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst ProtectedRoute = ({ isAdmin, component: Component, ...rest }) => {\r\n\r\n    const { isAuthenticated, loading, user } = useSelector(state => state.auth)\r\n\r\n    return (\r\n        <Fragment>\r\n            {loading === false && (\r\n                <Route\r\n                    {...rest}\r\n                    render={props => {\r\n                        if (isAuthenticated === false) {\r\n                            return <Redirect to='/login' />\r\n                        }\r\n\r\n                        if (isAdmin === true && user.role !== 'admin') {\r\n                            return <Redirect to=\"/\" />\r\n                        }\r\n\r\n                        return <Component {...props} />\r\n                    }}\r\n                />\r\n            )}\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default ProtectedRoute\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\n\r\nimport { productsReducer, newProductReducer, productReducer, productDetailsReducer, newReviewReducer, productReviewsReducer, reviewReducer } from './reducers/productReducers'\r\nimport { authReducer, userReducer, forgotPasswordReducer, allUsersReducer, userDetailsReducer } from './reducers/userReducers'\r\nimport { cartReducer } from './reducers/cartReducers'\r\nimport { newOrderReducer, myOrdersReducer, orderDetailsReducer, allOrdersReducer, orderReducer } from './reducers/orderReducers'\r\n\r\nconst reducer = combineReducers({\r\n    products: productsReducer,\r\n    productDetails: productDetailsReducer,\r\n    newProduct: newProductReducer,\r\n    product: productReducer,\r\n    productReviews: productReviewsReducer,\r\n    review: reviewReducer,\r\n    auth: authReducer,\r\n    user: userReducer,\r\n    allUsers: allUsersReducer,\r\n    userDetails: userDetailsReducer,\r\n    forgotPassword: forgotPasswordReducer,\r\n    cart: cartReducer,\r\n    newOrder: newOrderReducer,\r\n    myOrders: myOrdersReducer,\r\n    allOrders: allOrdersReducer,\r\n    orderDetails: orderDetailsReducer,\r\n    order: orderReducer,\r\n    newReview: newReviewReducer\r\n})\r\n\r\n\r\nlet initialState = {\r\n    cart: {\r\n        cartItems: localStorage.getItem('cartItems')\r\n            ? JSON.parse(localStorage.getItem('cartItems'))\r\n            : [],\r\n        shippingInfo: localStorage.getItem('shippingInfo')\r\n            ? JSON.parse(localStorage.getItem('shippingInfo'))\r\n            : {}\r\n    }\r\n}\r\n\r\nconst middlware = [thunk];\r\nconst store = createStore(reducer, initialState, composeWithDevTools(applyMiddleware(...middlware)))\r\n\r\nexport default store;","import {\r\n    ALL_PRODUCTS_REQUEST,\r\n    ALL_PRODUCTS_SUCCESS,\r\n    ALL_PRODUCTS_FAIL,\r\n    ADMIN_PRODUCTS_REQUEST,\r\n    ADMIN_PRODUCTS_SUCCESS,\r\n    ADMIN_PRODUCTS_FAIL,\r\n    NEW_PRODUCT_REQUEST,\r\n    NEW_PRODUCT_SUCCESS,\r\n    NEW_PRODUCT_RESET,\r\n    NEW_PRODUCT_FAIL,\r\n    DELETE_PRODUCT_REQUEST,\r\n    DELETE_PRODUCT_SUCCESS,\r\n    DELETE_PRODUCT_RESET,\r\n    DELETE_PRODUCT_FAIL,\r\n    UPDATE_PRODUCT_REQUEST,\r\n    UPDATE_PRODUCT_SUCCESS,\r\n    UPDATE_PRODUCT_RESET,\r\n    UPDATE_PRODUCT_FAIL,\r\n    PRODUCT_DETAILS_REQUEST,\r\n    PRODUCT_DETAILS_SUCCESS,\r\n    PRODUCT_DETAILS_FAIL,\r\n    NEW_REVIEW_REQUEST,\r\n    NEW_REVIEW_SUCCESS,\r\n    NEW_REVIEW_RESET,\r\n    NEW_REVIEW_FAIL,\r\n    GET_REVIEWS_REQUEST,\r\n    GET_REVIEWS_SUCCESS,\r\n    GET_REVIEWS_FAIL,\r\n    DELETE_REVIEW_REQUEST,\r\n    DELETE_REVIEW_SUCCESS,\r\n    DELETE_REVIEW_RESET,\r\n    DELETE_REVIEW_FAIL,\r\n    CLEAR_ERRORS\r\n\r\n} from '../constants/productConstants'\r\n\r\nexport const productsReducer = (state = { products: [] }, action) => {\r\n    switch (action.type) {\r\n        case ALL_PRODUCTS_REQUEST:\r\n        case ADMIN_PRODUCTS_REQUEST:\r\n            return {\r\n                loading: true,\r\n                products: []\r\n            }\r\n\r\n        case ALL_PRODUCTS_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                products: action.payload.products,\r\n                productsCount: action.payload.productsCount,\r\n                resPerPage: action.payload.resPerPage,\r\n                filteredProductsCount: action.payload.filteredProductsCount\r\n            }\r\n\r\n        case ADMIN_PRODUCTS_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                products: action.payload\r\n            }\r\n\r\n        case ALL_PRODUCTS_FAIL:\r\n        case ADMIN_PRODUCTS_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const newProductReducer = (state = { product: {} }, action) => {\r\n    switch (action.type) {\r\n\r\n        case NEW_PRODUCT_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n\r\n        case NEW_PRODUCT_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                success: action.payload.success,\r\n                product: action.payload.product\r\n            }\r\n\r\n        case NEW_PRODUCT_FAIL:\r\n            return {\r\n                ...state,\r\n                error: action.payload\r\n            }\r\n\r\n        case NEW_PRODUCT_RESET:\r\n            return {\r\n                ...state,\r\n                success: false\r\n            }\r\n\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const productReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n\r\n        case DELETE_PRODUCT_REQUEST:\r\n        case UPDATE_PRODUCT_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n\r\n        case DELETE_PRODUCT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                isDeleted: action.payload\r\n            }\r\n\r\n        case UPDATE_PRODUCT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                isUpdated: action.payload\r\n            }\r\n\r\n\r\n        case DELETE_PRODUCT_FAIL:\r\n        case UPDATE_PRODUCT_FAIL:\r\n            return {\r\n                ...state,\r\n                error: action.payload\r\n            }\r\n\r\n        case DELETE_PRODUCT_RESET:\r\n            return {\r\n                ...state,\r\n                isDeleted: false\r\n            }\r\n\r\n        case UPDATE_PRODUCT_RESET:\r\n            return {\r\n                ...state,\r\n                isUpdated: false\r\n            }\r\n\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const productDetailsReducer = (state = { product: {} }, action) => {\r\n    switch (action.type) {\r\n\r\n        case PRODUCT_DETAILS_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n\r\n        case PRODUCT_DETAILS_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                product: action.payload\r\n            }\r\n\r\n        case PRODUCT_DETAILS_FAIL:\r\n            return {\r\n                ...state,\r\n                error: action.payload\r\n            }\r\n\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const newReviewReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n\r\n        case NEW_REVIEW_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n\r\n        case NEW_REVIEW_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                success: action.payload\r\n            }\r\n\r\n        case NEW_REVIEW_FAIL:\r\n            return {\r\n                ...state,\r\n                error: action.payload\r\n            }\r\n\r\n        case NEW_REVIEW_RESET:\r\n            return {\r\n                ...state,\r\n                success: false\r\n            }\r\n\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const productReviewsReducer = (state = { review: [] }, action) => {\r\n    switch (action.type) {\r\n\r\n        case GET_REVIEWS_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n\r\n        case GET_REVIEWS_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                reviews: action.payload\r\n            }\r\n\r\n        case GET_REVIEWS_FAIL:\r\n            return {\r\n                ...state,\r\n                error: action.payload\r\n            }\r\n\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const reviewReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n\r\n        case DELETE_REVIEW_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n\r\n        case DELETE_REVIEW_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                isDeleted: action.payload\r\n            }\r\n\r\n        case DELETE_REVIEW_FAIL:\r\n            return {\r\n                ...state,\r\n                error: action.payload\r\n            }\r\n\r\n        case DELETE_REVIEW_RESET:\r\n            return {\r\n                ...state,\r\n                isDeleted: false\r\n            }\r\n\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}","import {\r\n    LOGIN_REQUEST,\r\n    LOGIN_SUCCESS,\r\n    LOGIN_FAIL,\r\n    REGISTER_USER_REQUEST,\r\n    REGISTER_USER_SUCCESS,\r\n    REGISTER_USER_FAIL,\r\n    LOAD_USER_REQUEST,\r\n    LOAD_USER_SUCCESS,\r\n    LOAD_USER_FAIL,\r\n    UPDATE_PASSWORD_REQUEST,\r\n    UPDATE_PASSWORD_SUCCESS,\r\n    UPDATE_PASSWORD_RESET,\r\n    UPDATE_PASSWORD_FAIL,\r\n    UPDATE_PROFILE_REQUEST,\r\n    UPDATE_PROFILE_SUCCESS,\r\n    UPDATE_PROFILE_RESET,\r\n    UPDATE_PROFILE_FAIL,\r\n    FORGOT_PASSWORD_REQUEST,\r\n    FORGOT_PASSWORD_SUCCESS,\r\n    FORGOT_PASSWORD_FAIL,\r\n    NEW_PASSWORD_REQUEST,\r\n    NEW_PASSWORD_SUCCESS,\r\n    NEW_PASSWORD_FAIL,\r\n    ALL_USERS_REQUEST,\r\n    ALL_USERS_SUCCESS,\r\n    ALL_USERS_FAIL,\r\n    USER_DETAILS_REQUEST,\r\n    USER_DETAILS_SUCCESS,\r\n    USER_DETAILS_FAIL,\r\n    UPDATE_USER_REQUEST,\r\n    UPDATE_USER_SUCCESS,\r\n    UPDATE_USER_RESET,\r\n    UPDATE_USER_FAIL,\r\n    LOGOUT_SUCCESS,\r\n    LOGOUT_FAIL,\r\n    CLEAR_ERRORS\r\n} from '../constants/userConstants'\r\n\r\nexport const authReducer = (state = { user: {} }, action) => {\r\n    switch (action.type) {\r\n\r\n        case LOGIN_REQUEST:\r\n        case REGISTER_USER_REQUEST:\r\n        case LOAD_USER_REQUEST:\r\n            return {\r\n                loading: true,\r\n                isAuthenticated: false,\r\n            }\r\n\r\n        case LOGIN_SUCCESS:\r\n        case REGISTER_USER_SUCCESS:\r\n        case LOAD_USER_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                isAuthenticated: true,\r\n                user: action.payload\r\n            }\r\n\r\n        case LOGOUT_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                isAuthenticated: false,\r\n                user: null\r\n            }\r\n\r\n        case LOAD_USER_FAIL:\r\n            return {\r\n                loading: false,\r\n                isAuthenticated: false,\r\n                user: null,\r\n                error: action.payload\r\n            }\r\n\r\n        case LOGOUT_FAIL:\r\n            return {\r\n                ...state,\r\n                error: action.payload\r\n            }\r\n\r\n        case LOGIN_FAIL:\r\n        case REGISTER_USER_FAIL:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                isAuthenticated: false,\r\n                user: null,\r\n                error: action.payload\r\n            }\r\n\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const userReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n\r\n        case UPDATE_PROFILE_REQUEST:\r\n        case UPDATE_PASSWORD_REQUEST:\r\n        case UPDATE_USER_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n\r\n        case UPDATE_PROFILE_SUCCESS:\r\n        case UPDATE_PASSWORD_SUCCESS:\r\n        case UPDATE_USER_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                isUpdated: action.payload\r\n            }\r\n\r\n        case UPDATE_PROFILE_RESET:\r\n        case UPDATE_PASSWORD_RESET:\r\n        case UPDATE_USER_RESET:\r\n            return {\r\n                ...state,\r\n                isUpdated: false\r\n            }\r\n\r\n        case UPDATE_PROFILE_FAIL:\r\n        case UPDATE_PASSWORD_FAIL:\r\n        case UPDATE_USER_FAIL:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const forgotPasswordReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n\r\n        case FORGOT_PASSWORD_REQUEST:\r\n        case NEW_PASSWORD_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n                error: null\r\n            }\r\n\r\n        case FORGOT_PASSWORD_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                message: action.payload\r\n            }\r\n\r\n        case NEW_PASSWORD_SUCCESS:\r\n            return {\r\n                ...state,\r\n                success: action.payload\r\n            }\r\n\r\n        case FORGOT_PASSWORD_FAIL:\r\n        case NEW_PASSWORD_FAIL:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const allUsersReducer = (state = { users: [] }, action) => {\r\n    switch (action.type) {\r\n\r\n        case ALL_USERS_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n            }\r\n\r\n        case ALL_USERS_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                users: action.payload\r\n            }\r\n\r\n        case ALL_USERS_FAIL:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const userDetailsReducer = (state = { user: {} }, action) => {\r\n    switch (action.type) {\r\n\r\n        case USER_DETAILS_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n            }\r\n\r\n        case USER_DETAILS_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                user: action.payload\r\n            }\r\n\r\n        case USER_DETAILS_FAIL:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}","import { ADD_TO_CART, REMOVE_ITEM_CART, SAVE_SHIPPING_INFO } from '../constants/cartConstants'\r\n\r\nexport const cartReducer = (state = { cartItems: [], shippingInfo: {} }, action) => {\r\n    switch (action.type) {\r\n\r\n        case ADD_TO_CART:\r\n            const item = action.payload;\r\n\r\n            const isItemExist = state.cartItems.find(i => i.product === item.product)\r\n\r\n            if (isItemExist) {\r\n                return {\r\n                    ...state,\r\n                    cartItems: state.cartItems.map(i => i.product === isItemExist.product ? item : i)\r\n                }\r\n            } else {\r\n                return {\r\n                    ...state,\r\n                    cartItems: [...state.cartItems, item]\r\n                }\r\n            }\r\n\r\n        case REMOVE_ITEM_CART:\r\n            return {\r\n                ...state,\r\n                cartItems: state.cartItems.filter(i => i.product !== action.payload)\r\n            }\r\n\r\n\r\n        case SAVE_SHIPPING_INFO:\r\n            return {\r\n                ...state,\r\n                shippingInfo: action.payload\r\n            }\r\n\r\n\r\n        default:\r\n            return state\r\n    }\r\n}","import {\r\n    CREATE_ORDER_REQUEST,\r\n    CREATE_ORDER_SUCCESS,\r\n    CREATE_ORDER_FAIL,\r\n    MY_ORDERS_REQUEST,\r\n    MY_ORDERS_SUCCESS,\r\n    MY_ORDERS_FAIL,\r\n    ALL_ORDERS_REQUEST,\r\n    ALL_ORDERS_SUCCESS,\r\n    ALL_ORDERS_FAIL,\r\n    UPDATE_ORDER_REQUEST,\r\n    UPDATE_ORDER_SUCCESS,\r\n    UPDATE_ORDER_RESET,\r\n    UPDATE_ORDER_FAIL,\r\n    ORDER_DETAILS_REQUEST,\r\n    ORDER_DETAILS_SUCCESS,\r\n    ORDER_DETAILS_FAIL,\r\n    CLEAR_ERRORS\r\n} from '../constants/orderConstants'\r\n\r\nexport const newOrderReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n\r\n        case CREATE_ORDER_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n\r\n        case CREATE_ORDER_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                order: action.payload\r\n            }\r\n\r\n        case CREATE_ORDER_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const myOrdersReducer = (state = { orders: [] }, action) => {\r\n    switch (action.type) {\r\n\r\n        case MY_ORDERS_REQUEST:\r\n            return {\r\n                loading: true\r\n            }\r\n\r\n        case MY_ORDERS_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                orders: action.payload\r\n            }\r\n\r\n        case MY_ORDERS_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const orderDetailsReducer = (state = { order: {} }, action) => {\r\n    switch (action.type) {\r\n\r\n        case ORDER_DETAILS_REQUEST:\r\n            return {\r\n                loading: true\r\n            }\r\n\r\n        case ORDER_DETAILS_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                order: action.payload\r\n            }\r\n\r\n        case ORDER_DETAILS_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const allOrdersReducer = (state = { orders: [] }, action) => {\r\n    switch (action.type) {\r\n\r\n        case ALL_ORDERS_REQUEST:\r\n            return {\r\n                loading: true\r\n            }\r\n\r\n        case ALL_ORDERS_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                orders: action.payload.orders,\r\n                totalAmount: action.payload.totalAmount\r\n            }\r\n\r\n        case ALL_ORDERS_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const orderReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n\r\n        case UPDATE_ORDER_REQUEST:\r\n        \r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n\r\n        case UPDATE_ORDER_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                isUpdated: action.payload\r\n            }\r\n\r\n        \r\n\r\n        case UPDATE_ORDER_FAIL:\r\n        \r\n            return {\r\n                ...state,\r\n                error: action.payload\r\n            }\r\n\r\n        case UPDATE_ORDER_RESET:\r\n            return {\r\n                ...state,\r\n                isUpdated: false\r\n            }\r\n\r\n        \r\n\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\r\n\r\nimport Header from './components/layout/Header'\r\nimport Footer from './components/layout/Footer'\r\n\r\nimport Home from './components/Home'\r\nimport ProductDetails from './components/product/ProductDetails'\r\n\r\n// Cart Imports\r\nimport Cart from './components/cart/Cart'\r\nimport Shipping from './components/cart/Shipping'\r\nimport ConfirmOrder from './components/cart/ConfirmOrder'\r\nimport Payment from './components/cart/Payment'\r\nimport OrderSuccess from './components/cart/OrderSuccess'\r\n\r\n// Order Imports\r\nimport ListOrders from './components/order/ListOrders'\r\nimport OrderDetails from './components/order/OrderDetails'\r\n\r\n// Auth or User imports\r\nimport Login from './components/user/Login'\r\nimport Register from './components/user/Register'\r\nimport Profile from './components/user/Profile'\r\nimport UpdateProfile from './components/user/UpdateProfile'\r\nimport UpdatePassword from './components/user/UpdatePassword'\r\nimport LookAccount from './components/admin/LookAccount'\r\n\r\n// Admin Imports\r\nimport Dashboard from './components/admin/Dashboard'\r\nimport ProductsList from './components/admin/ProductsList'\r\nimport NewProduct from './components/admin/NewProduct'\r\nimport UpdateProduct from './components/admin/UpdateProduct'\r\nimport OrdersList from './components/admin/OrdersList'\r\nimport ProcessOrder from './components/admin/ProcessOrder'\r\nimport UsersList from './components/admin/UsersList'\r\nimport UpdateUser from './components/admin/UpdateUser'\r\nimport ProductReviews from './components/admin/ProductReviews'\r\n\r\n\r\nimport ProtectedRoute from './components/route/ProtectedRoute'\r\nimport { loadUser } from './actions/userActions'\r\nimport store from './store'\r\nimport axios from 'axios'\r\nimport { useSelector } from 'react-redux'\r\n\r\n\r\n// Payment\r\nimport { Elements } from '@stripe/react-stripe-js'\r\nimport { loadStripe } from '@stripe/stripe-js'\r\n\r\n\r\n\r\nfunction App() {\r\n\r\n  const [stripeApiKey, setStripeApiKey] = useState('');\r\n\r\n  useEffect(() => {\r\n    store.dispatch(loadUser())\r\n\r\n    async function getStripApiKey() {\r\n      const { data } = await axios.get('/api/v1/stripeapi');\r\n\r\n      setStripeApiKey(data.stripeApiKey)\r\n    }\r\n\r\n    getStripApiKey();\r\n\r\n  }, [])\r\n  const { user, isAuthenticated, loading } = useSelector(state => state.auth)\r\n\r\n  return (\r\n    <Router>\r\n      <div className=\"App\">\r\n        <Header />\r\n        <div>\r\n          <Route path=\"/\" component={Home} exact />\r\n          <Route path=\"/search/:keyword\" component={Home} />\r\n          <Route path=\"/product/:id\" component={ProductDetails} exact />\r\n\r\n          {!loading && (!isAuthenticated || user.role !== 'admin') && (\r\n            <Route path=\"/cart\" component={Cart} exact />       \r\n          )}\r\n          {!loading && (!isAuthenticated || user.role !== 'admin') && (\r\n            <ProtectedRoute path=\"/orders/me\" component={ListOrders} exact />\r\n          )}\r\n          {!loading && (!isAuthenticated || user.role !== 'admin') && (\r\n            <ProtectedRoute path=\"/shipping\" component={Shipping} />\r\n          )}\r\n          {!loading && (!isAuthenticated || user.role !== 'admin') && (\r\n            <ProtectedRoute path=\"/confirm\" component={ConfirmOrder} exact />\r\n          )} \r\n          <ProtectedRoute path=\"/success\" component={OrderSuccess} />\r\n          {stripeApiKey &&\r\n            <Elements stripe={loadStripe(stripeApiKey)}>\r\n              <ProtectedRoute path=\"/payment\" component={Payment} />\r\n            </Elements>\r\n          }\r\n\r\n          <Route path=\"/login\" component={Login} />\r\n          <Route path=\"/register\" component={Register} />\r\n          <ProtectedRoute path=\"/me\" component={Profile} exact />\r\n          <ProtectedRoute path=\"/me/update\" component={UpdateProfile} exact />\r\n          <ProtectedRoute path=\"/password/update\" component={UpdatePassword} exact />\r\n\r\n          {/* <ProtectedRoute path=\"/orders/me\" component={ListOrders} exact /> */}\r\n          <ProtectedRoute path=\"/order/:id\" component={OrderDetails} exact />\r\n        </div>\r\n\r\n        <ProtectedRoute path=\"/dashboard\" isAdmin={true} component={Dashboard} exact />\r\n        <ProtectedRoute path=\"/admin/products\" isAdmin={true} component={ProductsList} exact />\r\n        <ProtectedRoute path=\"/admin/product\" isAdmin={true} component={NewProduct} exact />\r\n        <ProtectedRoute path=\"/admin/product/:id\" isAdmin={true} component={UpdateProduct} exact />\r\n        <ProtectedRoute path=\"/admin/orders\" isAdmin={true} component={OrdersList} exact />\r\n        <ProtectedRoute path=\"/admin/order/:id\" isAdmin={true} component={ProcessOrder} exact />\r\n        <ProtectedRoute path=\"/admin/users\" isAdmin={true} component={UsersList} exact />\r\n        <ProtectedRoute path=\"/admin/user/:id\" isAdmin={true} component={UpdateUser} exact />\r\n        <ProtectedRoute path=\"/admin/reviews\" isAdmin={true} component={ProductReviews} exact />\r\n        <ProtectedRoute path=\"/admin/look_user/:id\" isAdmin={true} component={LookAccount} exact />\r\n\r\n        {/* {!loading && (!isAuthenticated || user.role !== 'admin') && (\r\n          <Footer />\r\n        )} */}\r\n        <Footer />\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"bootstrap-icons/font/bootstrap-icons.css\";\r\n\r\nimport { Provider } from 'react-redux'\r\nimport store from './store'\r\n\r\nimport { positions, transitions, Provider as AlertProvider } from 'react-alert';\r\nimport AlertTemplate from 'react-alert-template-basic'\r\n\r\nconst options = {\r\n  timeout: 5000,\r\n  position: positions.BOTTOM_CENTER,\r\n  transition: transitions.SCALE\r\n}\r\n\r\nReactDOM.render(\r\n  <Provider store={store} >\r\n    <AlertProvider template={AlertTemplate} {...options}>\r\n      <App />\r\n    </AlertProvider>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}